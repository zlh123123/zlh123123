<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>计算机网络 | 好急好急的Hexo博客</title><meta name="author" content="Linghao Zhang"><meta name="copyright" content="Linghao Zhang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="概述因特网几个概念 网络(Network)由若干**结点(Node)和连接这些结点的链路(Link)**组成。 小写字母开头的internet（互连网）是个通用名词，泛指多个计算机网络互连而成的计算机网络，对网络间的协议没有要求。 大写字母开头的Internet（互联网、因特网）是个专有名词，指全球范围的众多网络互连而成的特定的互连网，它采用TCP&#x2F;IP协议族。 以太网（Ethernet">
<meta property="og:type" content="article">
<meta property="og:title" content="计算机网络">
<meta property="og:url" content="http://zlh123123.github.io/2024/10/09/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/index.html">
<meta property="og:site_name" content="好急好急的Hexo博客">
<meta property="og:description" content="概述因特网几个概念 网络(Network)由若干**结点(Node)和连接这些结点的链路(Link)**组成。 小写字母开头的internet（互连网）是个通用名词，泛指多个计算机网络互连而成的计算机网络，对网络间的协议没有要求。 大写字母开头的Internet（互联网、因特网）是个专有名词，指全球范围的众多网络互连而成的特定的互连网，它采用TCP&#x2F;IP协议族。 以太网（Ethernet">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/%E3%80%90%E5%93%B2%E9%A3%8E%E5%A3%81%E7%BA%B8%E3%80%91%E5%8A%A8%E6%BC%AB%E5%B0%91%E5%A5%B3-%E6%A8%B1%E8%8A%B1%E5%BA%84.png">
<meta property="article:published_time" content="2024-10-09T00:56:18.000Z">
<meta property="article:modified_time" content="2024-11-26T14:28:00.399Z">
<meta property="article:author" content="Linghao Zhang">
<meta property="article:tag" content="基础课">
<meta property="article:tag" content="计网">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/%E3%80%90%E5%93%B2%E9%A3%8E%E5%A3%81%E7%BA%B8%E3%80%91%E5%8A%A8%E6%BC%AB%E5%B0%91%E5%A5%B3-%E6%A8%B1%E8%8A%B1%E5%BA%84.png"><link rel="shortcut icon" href="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/apple-touch-icon-removebg-preview.png"><link rel="canonical" href="http://zlh123123.github.io/2024/10/09/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":300,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '计算机网络',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  isShuoshuo: false
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="web_bg" style="background-image: url(https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/welcome-image.png);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/apple-touch-icon-removebg-preview.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">11</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">12</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-image"></i><span> 图片</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/【哲风壁纸】动漫少女-樱花庄.png);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/apple-touch-icon-removebg-preview.png" alt="Logo"><span class="site-name">好急好急的Hexo博客</span></a><a class="nav-page-title" href="/"><span class="site-name">计算机网络</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-image"></i><span> 图片</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">计算机网络</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-10-09T00:56:18.000Z" title="发表于 2024-10-09 08:56:18">2024-10-09</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-11-26T14:28:00.399Z" title="更新于 2024-11-26 22:28:00">2024-11-26</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%9F%BA%E7%A1%80%E8%AF%BE/">基础课</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><h2 id="因特网"><a href="#因特网" class="headerlink" title="因特网"></a>因特网</h2><h3 id="几个概念"><a href="#几个概念" class="headerlink" title="几个概念"></a>几个概念</h3><ul>
<li>网络(Network)由若干**结点(Node)<strong>和连接这些结点的</strong>链路(Link)**组成。</li>
<li>小写字母开头的internet（<strong>互连网</strong>）是个通用名词，泛指多个计算机网络互连而成的计算机网络，对网络间的协议没有要求。</li>
<li>大写字母开头的Internet（<strong>互联网、因特网</strong>）是个专有名词，指全球范围的众多网络互连而成的特定的互连网，它采用TCP&#x2F;IP协议族。</li>
<li>以太网（Ethernet），是当今现有局域网采用的最通用的通信协议标准。以太网络使用CSMA&#x2F;CD（载波监听多路访问及冲突检测）技术，并以10M&#x2F;S的速率（仅指标准以太网的速率而已）运行在多种类型的电缆上。以太网与IEEE802.3系列标准相类似。</li>
</ul>
<h3 id="因特网服务提供者ISP"><a href="#因特网服务提供者ISP" class="headerlink" title="因特网服务提供者ISP"></a>因特网服务提供者<strong>ISP</strong></h3><p>组织或个人通过ISP获取IP地址，因特网上的主机只有通过IP地址才能进行通信。</p>
<p>因特网基于ISP的三层结构：</p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241012184152470.png" alt="img"></p>
<p>因此相隔较远的两台主机需要通过多个ISP才能完成通信。</p>
<h3 id="因特网的组成"><a href="#因特网的组成" class="headerlink" title="因特网的组成"></a>因特网的组成</h3><p>边缘部分<br>由所有连接在因特网上的<strong>主机</strong>组成。这部分是<strong>用户直接使用</strong>的，用来进行<strong>通信</strong>（传送数据、音频或视频）和<strong>资源共享。</strong></p>
<p>核心部分<br>由<strong>大量网络</strong>和连接这些网络的<strong>路由器</strong>组成。这部分是<strong>为边缘部分提供服务</strong>的(提供连通性和交换)。</p>
<h2 id="三种交换方式"><a href="#三种交换方式" class="headerlink" title="三种交换方式"></a>三种交换方式</h2><h3 id="电路交换"><a href="#电路交换" class="headerlink" title="电路交换"></a>电路交换</h3><p>电话交换机接通电话线的方式。</p>
<p>分成3个步骤：</p>
<ul>
<li>建立连接（分配通信资源）</li>
<li>进行通话（占据通信资源不放手）</li>
<li>释放连接（归还通信资源）</li>
</ul>
<p>但是，不使用电路交换来传输计算机数据，因为这样的传输效率较低。比如用户正在编辑待传输的文件时，始终处于“进行通话”的阶段，导致其他用户无法使用传输功能。（<strong>计算机通常采用分组交换</strong>）</p>
<h3 id="分组交换"><a href="#分组交换" class="headerlink" title="分组交换"></a>分组交换</h3><p>路由器负责将各种网络互连起来，并对接收到的分组进行转发，也就是分组交换。</p>
<ul>
<li>发送方：构造分组、发送分组</li>
<li>路由器：缓存分组、转发分组（简称为分组转发）</li>
<li>接受方：接受分组、还原报文</li>
</ul>
<p>将表示要发送的信息数据叫做<strong>报文</strong>，发送方会把较长的报文划分为几个更小的等长数据，在每个数据端前加入控制信息<strong>首部</strong>后，就构成了一个<strong>分组（包）</strong>。</p>
<p>路由器会先把受到的分组信息缓存下来，再根据首部中的目的地址进行查表转发，转发给接收方（此过程可能会经历多个交换机）。</p>
<p>接受方再去掉受到数据的首部，把数据段还原出原始报文，就结束了。</p>
<h3 id="报文交换"><a href="#报文交换" class="headerlink" title="报文交换"></a>报文交换</h3><p>主要用于早期的电报通信网，现在较少使用。通常被较先进的分组交换方式所取代，这里不多说。</p>
<h3 id="三种交换方式的对比"><a href="#三种交换方式的对比" class="headerlink" title="三种交换方式的对比"></a>三种交换方式的对比</h3><p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241012230408380.png" alt="image-20241012230408380"></p>
<p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241012230512010.png" alt="image-20241012230512010"></p>
<p><strong>三种交换方式计算时延</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1me411H7sK/?spm_id_from=333.337.search-card.all.click&vd_source=e8e75c8a3156e152507ea0d6c7da00e4">计算机网络 物理层三种交换方式时延计算例题_哔哩哔哩_bilibili</a></p>
<h2 id="计算机网络的定义与分类"><a href="#计算机网络的定义与分类" class="headerlink" title="计算机网络的定义与分类"></a>计算机网络的定义与分类</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>计算机网络的最简单的定义是:一些<strong>互</strong>相<strong>连</strong>接的、<strong>自治</strong>的计算机的<strong>集合</strong>。</p>
<ul>
<li>互连︰是指计算机之间可以通过有线或无线的方式进行数据通信</li>
<li>自治︰是指独立的计算机，它有自己的硬件和软件，可以单独运行使用</li>
<li>集合：是指至少需要两台计算机</li>
</ul>
<p>计算机网络的较好的定义是：计算机网络主要是由一些<strong>通用的、可编程的硬件互连</strong>而成的，而这些硬件并非专门用来实现某一特定目的（例如，传送数据或视频信号)。这些可编程的硬件能够用来<strong>传送多种不同类型的数据</strong>，并能<strong>支持广泛的和日益增长的应用</strong>。</p>
<ul>
<li>计算机网络所连接的硬件，并不限于一般的计算机，而是包括了智能手机等智能硬件。</li>
<li>计算机网络并非专门用来传送数据，而是能够支持很多种的应用(包括今后可能出现的各种应用)。</li>
</ul>
<h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241012231159166.png" alt="image-20241012231159166"></p>
<h4 id="按覆盖范围分类"><a href="#按覆盖范围分类" class="headerlink" title="按覆盖范围分类"></a>按覆盖范围分类</h4><p>广域网WAN的覆盖范围通常为几十公里到几千公里，可以覆盖一个国家、地区、甚至横跨几个洲，因而有时也称为远程网。广域网是因特网的核心部分，其任务是为核心路由器提供远距离（例如，跨越不同的国家的）高速连接，互连分布在不同区域的城域网和局域网。</p>
<p>城域网MAN的覆盖范围一般是一个城市，可跨越几个街区甚至整个城市，其作用距离为5至50公里。城域网通常作为城市骨干网，互连大量企业、机构和校园局域网。逅九年。城域网已开始成为现代城市的信息服务基础设施，为大量用户提供接入和各种信息服务，并有趋势将传统的电信服务、有线电视服务和互联网服务融为一体。</p>
<p>局域网LAN一般用微型计算机或工作站通过高速通信线路相连,速率通常在10Mbit&#x2F;s以上，但地理上则局限在较小的范围内，如一个实验室，一幢楼或一个校园内，距离一般在1公里左右。局域网通常由某个单位单独拥有、使用和维护。一个学校或企业大都拥有许多个互连的局域网,这样的网络常称为校园网或企业网。</p>
<p>个域网PAN是个人局域网络的简称，不是用来连接普通计算机的而是在个人工作的地方把属于个人使用的电子设备，如鼠标键盘用无线技术连接起来的网络，因此也常成为无线个人区域网WPAN，其覆盖范围为10米。</p>
<p>需要注意的是，若中央处理机之间的距离非常近，例如仅1米的数量级甚至更小，则一般就称之为多处理机系统。而不称它为计算机网络。</p>
<h4 id="按拓扑结构分类"><a href="#按拓扑结构分类" class="headerlink" title="按拓扑结构分类"></a>按拓扑结构分类</h4><p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241012231409043.png" alt="image-20241012231409043"></p>
<blockquote>
<p><strong>总线型网络</strong>使用单根传输线把计算机连接起来。</p>
<p>优点:建网容易、增减结点方便、节省线路。</p>
<p>缺点：重负载时通信效率不高。总线任意一处出现故障，则全网瘫痪。</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241012231453559.png" alt="image-20241012231453559"></p>
<blockquote>
<p><strong>星型网络</strong>是将每个计算机都以单独的线路与中央设备相连。中央设备早期是计算机，后来是集线器，现在一般是交换机或路由器。</p>
<p>优点：这种网络拓扑便于网络的集中控制和管理，因为端用户之间的通信必须经过中央设备。</p>
<p>缺点是成本高，中央设备对故障敏感。</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241012231545419.png" alt="image-20241012231545419"></p>
<blockquote>
<p><strong>环型网络</strong>是将所有计算机的网络接口连接成一个环，最典型的例子是令牌环局域网。</p>
<p>环可以是单环，也可以是双环，环中信号是单向传输的。</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241012231627068.png" alt="image-20241012231627068"></p>
<blockquote>
<p><strong>网状结构</strong>一般情况下，每个结点至少由两条路径与其他结点相连，多用在广域网中。</p>
<p>其优点是可靠性高。缺点是控制复杂、线路成本高。</p>
</blockquote>
<p>当然，这几种拓扑结构还可以相互组合不断套娃，组成新的结构。</p>
<h2 id="性能指标"><a href="#性能指标" class="headerlink" title="性能指标"></a>性能指标</h2><h3 id="速率"><a href="#速率" class="headerlink" title="速率"></a>速率</h3><p>主机连接在计算机网络中，它在信道中传输数据的速率，也叫比特率、数据率。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241012232922500.png" alt="image-20241012232922500"></p>
<p><strong>注意这里的k、M等为$10^3和10^6$，而不是1024这种。</strong>但是实际在计算中没准可以约去。</p>
<h3 id="带宽"><a href="#带宽" class="headerlink" title="带宽"></a>带宽</h3><p>用来表征网络的通信线路所能传输数据的能力。即单位时间内，从网络中一个点到另一个点能通过的<strong>最高数据速率</strong>。</p>
<p>因此带宽就是一种速率，它的单位和速率一致。</p>
<h3 id="吞吐量"><a href="#吞吐量" class="headerlink" title="吞吐量"></a>吞吐量</h3><p>单位时间内通过某个网络的实际数据量，是通过测量现实世界的网络后得出的，会受网络带宽和额定速率的限制。通常吞吐量达不到带宽那么大。</p>
<h3 id="时延"><a href="#时延" class="headerlink" title="时延"></a>时延</h3><p>时延由发送时延、传播时延和处理时延三部分组成。由于实际网络转发过程中会经过多个路由器转发，因此会存在多个传播时延和处理时延。</p>
<ul>
<li><p>发送时延：即源头计算机发送报文的速率。$发送时延&#x3D;\frac{分组长度}{发送速率}$。其中的发送速率受网卡的发送速率、信道带宽和路由器接口速率限制，3个里取最小值。因此实际弄的时候，要注意设备间速率匹配。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241013101238486.png" alt="image-20241013101238486"></p>
</li>
<li><p>传播时延：在信道中传输消耗的时间。$传播时延&#x3D;\frac{信道长度}{电磁波传播速率}$。注意在不同介质中，电磁波的传输速率并不相同。</p>
</li>
<li><p>处理时延：路由器进行存储转发的时间。这个不好计算，因为网络中的流量动态变化，路由器的繁忙持续也动态变化，不好量化计算。一般我们会把这个时延忽略不计。</p>
</li>
</ul>
<p>此外，对于任何网络，并不是说发送时延或者传播时延一定占据主导地位，对不同问题有不同分析结果。</p>
<h3 id="时延带宽积"><a href="#时延带宽积" class="headerlink" title="时延带宽积"></a>时延带宽积</h3><p>顾名思义，时延带宽积&#x3D;<strong>传播时延</strong>×带宽。</p>
<p>若发送端持续不断发送数据，那么当它发送的第一个bit到达终点时，发送端已经发送了时延带宽积个bit。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241013102710985.png" alt="image-20241013102710985"></p>
<h3 id="往返时间RTT"><a href="#往返时间RTT" class="headerlink" title="往返时间RTT"></a>往返时间RTT</h3><p>因特网上的信息通常是双向交互的，往返时间就是双向交互一次的时间。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241013103828042.png" alt="image-20241013103828042"></p>
<h3 id="利用率"><a href="#利用率" class="headerlink" title="利用率"></a>利用率</h3><ul>
<li>信道利用率：该信道有百分之几的时间是被利用的，即有数据通过的。</li>
<li>网络利用率：全网络的信道利用率的加权平均。</li>
</ul>
<p>事实上，当信道的利用率增大时，该信道引起的时延也会增加。因此<strong>信道利用率并不是越高越好。</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241013104242772.png" alt="image-20241013104242772"></p>
<h3 id="丢包率"><a href="#丢包率" class="headerlink" title="丢包率"></a>丢包率</h3><p>即分组丢失率，在一定时间范围内，传输过程中丢失的分组数量与总分组数量的比值。</p>
<p>分组丢失可能出现在下面两种情况下：</p>
<ul>
<li>分组在传输过程中出现误码后被交换机检测出，就被交换机丢弃。</li>
<li>一台交换机队列已满（通信繁忙时），分组到达后塞不进去就被丢弃。</li>
</ul>
<h2 id="计算机网络体系结构"><a href="#计算机网络体系结构" class="headerlink" title="计算机网络体系结构"></a>计算机网络体系结构</h2><h3 id="OSI体系结构和TCP-IP体系结构"><a href="#OSI体系结构和TCP-IP体系结构" class="headerlink" title="OSI体系结构和TCP&#x2F;IP体系结构"></a>OSI体系结构和TCP&#x2F;IP体系结构</h3><p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241013111541653.png" alt="image-20241013111541653"></p>
<h3 id="计算机网络分层的必要性"><a href="#计算机网络分层的必要性" class="headerlink" title="计算机网络分层的必要性"></a>计算机网络分层的必要性</h3><p><strong>计算机网络是个非常复杂的系统。</strong>早在最初的ARPANET设计时就提出了分层的设计理念。<br>**”分层”**可将庞大而复杂的问题，转化为若干较小的局部问题，而这些较小的局部问题就比较易于研究和处理。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241013112321827.png" alt="image-20241013112321827"></p>
<h3 id="专业术语解释"><a href="#专业术语解释" class="headerlink" title="专业术语解释"></a>专业术语解释</h3><h4 id="实体"><a href="#实体" class="headerlink" title="实体"></a>实体</h4><p>任何可发送或者接收信息的<strong>硬件或软件进程</strong>。</p>
<p>对等实体：收发双方相同层次中的实体。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241013120222621.png" alt="image-20241013120222621"></p>
<h4 id="协议"><a href="#协议" class="headerlink" title="协议"></a>协议</h4><p>控制两个<strong>对等实体</strong>进行逻辑通信的规则集合。</p>
<p>协议三要素：语法、语义、同步</p>
<ul>
<li>语法：定义所交换信息的格式，例如定义IP报文由哪些部分组成这样子</li>
<li>语义：定义收发双方所要完成的操作</li>
<li>同步：定义收发双方的时序关系</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241013120827845.png" alt="image-20241013120827845"></p>
<h4 id="服务"><a href="#服务" class="headerlink" title="服务"></a>服务</h4><ul>
<li>在协议的控制下，两个对等实体间的逻辑通信使得本层能够向上一层提供服务。例如，物理层向数据链路层提供服务。</li>
<li>要实现本层协议，还需要使用下面一层所提供的服务。</li>
<li>协议是“<strong>水平的</strong>”，服务是“<strong>垂直的</strong>”。</li>
<li>实体看得见相邻下层所提供的服务，但并不知道实现该服务的具体协议。也就是说，下面的协议对上面的实体是”<strong>透明</strong>“的。</li>
</ul>
<h4 id="服务访问点"><a href="#服务访问点" class="headerlink" title="服务访问点"></a>服务访问点</h4><p>在同一系统中<strong>相邻两层的实体交换信息的逻辑接口</strong>，用于区分不同的服务类型。</p>
<ul>
<li>数据链路层的服务访问点为帧的“类型”字段。</li>
<li>网络层的服务访问点为lP数据报首部中的“协议字段”。</li>
<li>运输层的服务访问点为“端口号”。</li>
</ul>
<h4 id="服务原语"><a href="#服务原语" class="headerlink" title="服务原语"></a>服务原语</h4><p>上层使用下层所提供的服务必须通过与下层<strong>交换一些命令</strong>，这些命令称为服务原语。</p>
<ul>
<li>协议数据单元PDU：<strong>对等层次之间传送的数据包</strong>称为该层的协议数据单元。</li>
<li>服务数据单元SDU ：<strong>同一系统内，层与层之间交换的数据包</strong>称为服务数据单元。</li>
<li>多个SDU可以合成为一个PDU;一个SDU也可划分为几个PDU。</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241013121335515.png" alt="image-20241013121335515"></p>
<h2 id="习题"><a href="#习题" class="headerlink" title="习题"></a>习题</h2><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1c4411d7jb?spm_id_from=333.788.videopod.episodes&vd_source=e8e75c8a3156e152507ea0d6c7da00e4&p=12">1.8 第1章 概述 习题课（1）— 体系结构相关习题_哔哩哔哩_bilibili</a></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1c4411d7jb?spm_id_from=333.788.videopod.episodes&vd_source=e8e75c8a3156e152507ea0d6c7da00e4&p=13">1.8 第1章 概述 习题课（2）— 时延相关习题_哔哩哔哩_bilibili</a></p>
<h1 id="物理层"><a href="#物理层" class="headerlink" title="物理层"></a>物理层</h1><h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><p>计算机网络的物理层就是要解决在各种传输媒介上传输比特0和1的问题，进而给数据链路层提供透明传输比特流的服务。</p>
<p>而解决在各种传输媒介上传输比特0和1的问题中，主要有以下四个任务：分别是机械特性、电器特性、功能特性以及过程特性。</p>
<ul>
<li><p><strong>机械特性</strong>：指明接口所用接线器的<strong>形状</strong>和<strong>尺寸</strong>、<strong>引脚数目</strong>和<strong>排列</strong>、<strong>固定</strong>和<strong>锁定</strong>装置。</p>
</li>
<li><p><strong>电气特性</strong>：指明在接口电缆的各条线上出现的<strong>电压的范围</strong>。</p>
</li>
<li><p><strong>功能特性</strong>：指明某条线上出现的某一电平的<strong>电压表示何种意义</strong>。</p>
</li>
<li><p><strong>过程特性</strong>：指明对于不同功能的各种可能<strong>事件的出现顺序</strong>。</p>
</li>
</ul>
<p>物理层考虑的是怎样才能在连接各种计算机的传输媒体上传输数据比特流。</p>
<p>物理层为数据链路层屏蔽了各种传输媒体的差异，使数据链路层只需要考虑如何完成本层的协议和服务，而不必考虑网络具体的传输媒体是什么。</p>
<h2 id="物理层下的传输媒体"><a href="#物理层下的传输媒体" class="headerlink" title="物理层下的传输媒体"></a>物理层下的传输媒体</h2><h3 id="导引型传输媒体"><a href="#导引型传输媒体" class="headerlink" title="导引型传输媒体"></a>导引型传输媒体</h3><h4 id="同轴电缆"><a href="#同轴电缆" class="headerlink" title="同轴电缆"></a>同轴电缆</h4><p>内导体铜质芯线（可以是单股实心线或者是多股绞合线)、绝缘层、网状编织的外导体屏蔽层、绝缘保护套层所组成。</p>
<p>其中同轴电缆有两类：一类是50欧阻抗的基带同轴电缆，另一类是75欧阻抗的宽带同轴电缆。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241016181857528.png" alt="image-20241016181857528"></p>
<h4 id="双绞线"><a href="#双绞线" class="headerlink" title="双绞线"></a>双绞线</h4><p>双绞线是最古老叉最常用的传输媒体。把两根互相绝缘的铜导线并放在一起,然后按照一定规则绞合起来就构成了双绞线。</p>
<p>屏蔽双绞线电缆比无屏敝双绞线电缆增加了<strong>金属丝编织的屏蔽层</strong>，提高了抗电磁干扰的能力。</p>
<p>绞合的作用：<strong>抵御部分来自外界的电磁波干扰和减少相邻导线的电磁干扰</strong></p>
<img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241016182101922.png" alt="image-20241016182101922" style="zoom:67%;" />

<h4 id="光纤"><a href="#光纤" class="headerlink" title="光纤"></a>光纤</h4><p>由于光纤非常细，所以必须将它做成很结实的光缆。一根光缆少则只有一根光纤，多则可包括数十至数百根光纤，再加上加强芯和填充物就回以大大提高机械强度，必要时回放入远供电源线。最后加上包带层和外护套，就可以使抗拉强度达到几千克，完全可以满足工程施工的强度要求。</p>
<p>纤芯是由非常透明的石英玻璃拉成细丝(直径8~100微米)，光纤的纤芯非常细，多模光纤的纤芯直径有50微米和62.5微米。而纤芯外面的包层也非常细，直径不超过125微米。</p>
<p>在光纤通信中，常用工作波长的中心分别位于0.85微米、1.30微米和1.55微米。</p>
<img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241016182406682.png" alt="image-20241016182406682" style="zoom:67%;" />

<p><strong>光纤通信的原理：</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241016182621117.png" alt="image-20241016182621117"></p>
<p><strong>多模光纤与单模光纤：</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241016182709266.png" alt="image-20241016182709266"></p>
<p>实际上，只要从纤芯中射到纤芯表面的光线的入射角大于某一个临界角度，就可产生全反射。 因此，可以<strong>存在许多条不同角度入射的光线在一条光纤中传输</strong>，这种光纤被称为<strong>多模光纤</strong>。</p>
<p>由于光的色散问题，光在多模光纤中传输一定距离后必然产生信号失真，也就是<strong>脉冲展宽</strong>(也就是输入脉冲和输出脉冲不一样)。因此，<strong>多模光纤</strong>只适合<strong>近距离传输</strong>(例如在建筑物内)。多模光纤对光源的要求不高，可以使用较便宜的<strong>发光二极管</strong>，相应地接收可采用<strong>光电二极管</strong>检测光脉冲。</p>
<p>若<strong>光纤的直径减小到只有一个光的波长</strong>，则光纤就像一根波导那样。它可使<strong>光线一直向前传播</strong>，而不会产生多次反射，这样的光纤被称为单模光纤。</p>
<p>单模光纤没有模式色散，在1.31微米波长附近材料色散和波导色散大小相等符号相反，两者正好抵消，<strong>没有脉冲展宽问题</strong>(也就是输入脉冲和输出脉冲一样)。</p>
<p>单模光纤<strong>适合长距离传输且衰减小</strong>，但其制造成本高，对光源要求高。需要使用昂贵的半导体激光器作为光源，相应地。需要采用激光检波器检测脉冲。</p>
<h4 id="电力线"><a href="#电力线" class="headerlink" title="电力线"></a>电力线</h4><p>应用电力线传输信号的实例最早是电力线电话。目前，如果要构建家庭高性能局域网，采用电力线作为传输媒体是不能满足要求的。对于装修时没有进行网络布线的家庭，可以采用这种方式。对于一些采用独立房间进行办公的企业来说每间办公室的电脑数量不多，而又不希望跨办公室进行布线，也可以采用这种方式。每个办公室只需根据需求，在电源插座上插入一个或多个电力猫即可。</p>
<h3 id="非导引型传输媒体"><a href="#非导引型传输媒体" class="headerlink" title="非导引型传输媒体"></a>非导引型传输媒体</h3><p>我们可以利用<strong>电磁波在自由空间的传播</strong>来传送数据信息。中间的一段可以使用，这段频等范围的电磁波可以通过调制波的振幅、频率或相位来传输信息。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241016183206810.png" alt="image-20241016183206810"></p>
<h4 id="无线电波"><a href="#无线电波" class="headerlink" title="无线电波"></a>无线电波</h4><p>从<strong>低频到甚高频</strong>（也就是从长波到米波），这些频段的电磁波又称为<strong>无线电波</strong>，用于国际广播、海事和航空通讯、电台广播、电视广播等。</p>
<p>其中无线电波中的<strong>低频和中频</strong>频段，主要利用<strong>地面波</strong>进行传输。而<strong>高频和甚高频</strong>频段主要是<strong>靠电离层的反射</strong>。</p>
<h4 id="微波"><a href="#微波" class="headerlink" title="微波"></a>微波</h4><p>从<strong>特高频到极高频</strong>（也就是从分米波到毫米波），这些频段的电磁波又称为<strong>微波</strong>，用于无线电话、无线网络、雷达、人造卫星接受、射电天文、人体扫描等。</p>
<p>微波通信在数据通信中占有重要地位，频率范围为300MHz到300GHz（波长1m到1mm)，但主要使用2~40GHz的频率范围。微波在空间主要是直线传播，由于微波会穿透电离层而进入宇宙空间,因此它<strong>不能经过电离层的反射</strong>传播到地面很远的地方。</p>
<p>传统的微波通信主要有两种方式：<strong>地面微波接力通信和卫星通信。</strong></p>
<p>微波在空间主要是直线传播，地球表面是一个曲面，因此其传播距离受到限制，一般只有50公里左右。但若采用100米高的天线塔，则传播距离可增大到100公里。为实现远距离通信，<strong>必须在一条微波通信信道的两个终端之间建立着干个中继站</strong>。中继站把前一站送来的信号经过放大后再发送到下一站，故称为“接力”。</p>
<p>常用的<strong>卫星通信</strong>方法是在地球站之间，利用位于约3万6千公里高空的人造同步地球卫星，作为中继器的一种微波接力通信。其最大特点是通信距离远，相应地传播时延也比较大一般在250~300ms之间。</p>
<h4 id="红外线"><a href="#红外线" class="headerlink" title="红外线"></a>红外线</h4><p>很多家用电器(例如:电视、空调等)都配套有红外遥控器。以前的笔记本电脑基本都带有红外接口，可以进行红外通信，红外通信属于<strong>点对点无线传输</strong>，中间不能又障碍物，传输距离短，传输速率也很低。</p>
<h2 id="传输方式"><a href="#传输方式" class="headerlink" title="传输方式"></a>传输方式</h2><h3 id="串行与并行"><a href="#串行与并行" class="headerlink" title="串行与并行"></a>串行与并行</h3><p><strong>串行传输</strong>是指数据是一个比特一个比特依次发送的，在发送端和接受端之间只需要一条数据传输线路。</p>
<p><strong>并线传输</strong>是指一次发送n个比特而不是一个比特，在发送端和接受端之间需要有n条数据传输线路。并行传输的优点是速度为串行传输的n倍。缺点就是成本高。</p>
<p><strong>远距离传输</strong>例如计算机网络是通过<strong>串行传输</strong>实现的，而<strong>计算机内部的数据传输</strong>，常采用<strong>并行传输</strong>方式。（例如CPU与内存之间通过总线进行数据传输）</p>
<h3 id="同步与异步"><a href="#同步与异步" class="headerlink" title="同步与异步"></a>同步与异步</h3><p><strong>同步传输</strong></p>
<p><strong>为什么要同步？</strong></p>
<p>数据块以稳定的比特流的形式传输。字节之间没有间隔，接收端在每个比特信号的中间时刻进行检测，以判别接收到的是比特0是比特1。由于<strong>不同设备的时钟频率存在一定差异</strong>，不可能做到完全相同，在传输大量数据的过程中所产生的判别时刻的累计误差，会导致接收端对比特信号的判别错位。因此，需要采取方法使收发双方的时钟保持同步。</p>
<p><strong>如何让收发双方的时钟同步？</strong></p>
<p><strong>外同步：</strong>也就是在收发双方之间<strong>添加一条单独的时钟信号线</strong>，发送端在发送数据信号的同时，另外发送一路时钟同步信号。接收端按照时钟同步信号的节奏来接收数据。</p>
<p><strong>内同步：</strong>也就是发送端将时钟同步信号<strong>编码到发送数据中</strong>一起传输。例如，传统以太网所采用的就是曼彻斯特编码。</p>
<p><strong>异步传输</strong></p>
<p>采用异步传输方式时，以字节为独立的传输单位。字节之间的时间间隔不是固定的。接收端仅在每个字节的起始处对字节内的比特实现同步。为此，通常要在每个字节前后分别加上<strong>起始位和结束位</strong>。</p>
<h3 id="单向与双向"><a href="#单向与双向" class="headerlink" title="单向与双向"></a>单向与双向</h3><p>单工通信（单工）：又称为单向通信。通信双方<strong>只有一个数据传输方向</strong>。例如无线电广播</p>
<p>双向交替通信（半双工）：通信双方<strong>可以相互传输</strong>数据，但<strong>不能同时进行</strong>。例如对讲机</p>
<p>全双工通信（全双工）：又称为双向同时通信，通信双方<strong>可以同时发送和接收信息</strong>。例如电话</p>
<p>单向通信只需要一条信道，而双向交替通信或全双工通信，则都需要两条信道（每个方向各一条）。</p>
<h2 id="编码与调制"><a href="#编码与调制" class="headerlink" title="编码与调制"></a>编码与调制</h2><h3 id="基本概念-1"><a href="#基本概念-1" class="headerlink" title="基本概念"></a>基本概念</h3><p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241016184501338.png" alt="image-20241016184501338"></p>
<p>计算机需要处理和传输用户的文字，图片，音频和视频，这些可以统称为<strong>消息</strong>。<strong>数据</strong>是运输消息的实体，而计算机中的网卡将比特0和比特1变换成相应的电<strong>信号</strong>发送到网线，而信号是数据的电磁表现。</p>
<p>由信源发出的原始电信号称为基带信号。而基带信号又分为两类，一类是<strong>数字基带信号</strong>，例如计算机内部CPU与内存之间传输的信号。另一类是<strong>模拟基带信号</strong>，例如。麦克风收到声音后产生的音频信号。</p>
<p>信号需要在信道中进行传输，信道可分为<strong>数字信道</strong>和<strong>模拟信道</strong>两种。</p>
<p>在不改变信号性质的前提下，仅对数字基带信号的波形进行变换，称为<strong>编码</strong>。<strong>编码后产生的信号仍为数字信号</strong>，可以在<strong>数字信道</strong>中传输。</p>
<p>把数字基带信号的频率范围搬移到较高的频段并转换为<strong>模拟信号</strong>称为<strong>调制</strong>。调制后产生的信号是<strong>模拟信号</strong>，可以在<strong>模拟信道</strong>中传输。</p>
<p>同样的，对于模拟基带信号的处理，也有编码和调制两种方法。</p>
<p><strong>码元</strong>：在使用时间域的波形表示数字信号时，代表不同离散数值的<strong>基本波形</strong>成为码元。简单来说，码元就是构成信号的一段波形。</p>
<p><strong>之前提到的传输媒体和这里的信道是一个东西吗？</strong></p>
<p>传输媒体和信道<strong>不能直接画等号</strong>。对于单工传输，传输媒体中只包含一个信道，要么是发送信道，要么是接收信道。而对于半双工和全双工传输，传输媒体中要包含两个信道，一个是发送信道，另一个是接收信道。（如果使用信道复用技术，一条传输媒体还可以包含多个信道。）</p>
<h3 id="常用编码方法"><a href="#常用编码方法" class="headerlink" title="常用编码方法"></a>常用编码方法</h3><h4 id="不归零编码"><a href="#不归零编码" class="headerlink" title="不归零编码"></a>不归零编码</h4><p>在整个码元时间内，<strong>电平不会出现零电平</strong>。例如，该码元在其时间内全部是正电平，而该码元在其时间内全部是负电平。</p>
<p><strong>接收端如何判断出到底有几个码元连在一起？</strong></p>
<p>这需要发送方的发送与接收方的接收做到<strong>严格的同步</strong>，那么就<strong>需要额外一根传输线来传输时钟信号</strong>，接收方按时钟信号的节拍来逐个接收码源。然而，对于计算机网络，宁愿利用这个传输线来传输数据信号，而不是要传输时钟信号。因此，由于不归零编码存在同步问题，<strong>计算机网络中的数据传输不采用这类编码</strong>。<br><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241016185252490.png" alt="image-20241016185252490"></p>
<h4 id="归零编码"><a href="#归零编码" class="headerlink" title="归零编码"></a>归零编码</h4><p>每个码源<strong>传输结束后信号都要归零</strong>，所以接收方只要在信号归零后进行采样即可，<strong>不需要单独的时钟信号</strong>。</p>
<p>实际上，归零编码相当于把时钟信号用归零方式编码在了数据之内，这称为<strong>自同步信号</strong>。但是归零编码中大部分的数据带宽都用来传输归零而浪费掉了。也就是说，归零编码的优点是自同步，但缺点是<strong>编码效率低</strong>。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241016185512559.png" alt="image-20241016185512559"></p>
<h4 id="曼彻斯特编码"><a href="#曼彻斯特编码" class="headerlink" title="曼彻斯特编码"></a>曼彻斯特编码</h4><p>如图所示，在每个码元时间的<strong>中间时刻</strong>，信号都会发生跳变，例如负跳变表示比特一（也就是向下），正跳变表示比特0（也就是向上）。码元中间时刻的跳变既表示时钟，又表示数据。<strong>传统以太网使用的就是曼彻斯特编码</strong>。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241016185620305.png" alt="image-20241016185620305"></p>
<h4 id="差分曼彻斯特编码"><a href="#差分曼彻斯特编码" class="headerlink" title="差分曼彻斯特编码"></a>差分曼彻斯特编码</h4><p>如图所示，在每个码元时间的中间时刻，信号都会发生跳变。与曼彻斯特的编码不同，<strong>跳变仅表示时钟</strong>。而用<strong>码元开始处电平是否发生变化</strong>来表示比特0或者比特1。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241016185832305.png" alt="image-20241016185832305"></p>
<h3 id="常用调制方法"><a href="#常用调制方法" class="headerlink" title="常用调制方法"></a>常用调制方法</h3><h4 id="基本调制方法"><a href="#基本调制方法" class="headerlink" title="基本调制方法"></a>基本调制方法</h4><p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241016190129618.png" alt="image-20241016190129618"></p>
<p><strong>调幅</strong>所产生的模拟信号。无载波输出表示比特0，有载波输出表示比特1。</p>
<p><strong>调频</strong>所产生的模拟信号。频率F1的波形表示比特0，频率F2的波形表示比特1。</p>
<p><strong>调相</strong>所产生的模拟信号。初相位0度的波形表示比特0。出相位180度的波形表示比特1。</p>
<h4 id="混合调制"><a href="#混合调制" class="headerlink" title="混合调制"></a>混合调制</h4><p>为了使一个码元包含更多的比特，可以采用混合调制的方法。由于<strong>频率</strong>和<strong>相位</strong>是相关的，所以这两个不能调在一起。通常情况下，<strong>相位</strong>和<strong>振幅</strong>可以结合起来一起调制，称为<strong>正交振幅调制QAM。</strong></p>
<p>一个混合调制例子：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1c4411d7jb/?p=17&share_source=copy_web&vd_source=b52385681217343bb296f541bb29d8ed&t=633">https://www.bilibili.com/video/BV1c4411d7jb/?p=17&amp;share_source=copy_web&amp;vd_source=b52385681217343bb296f541bb29d8ed&amp;t=633</a></p>
<h2 id="信道的极限容量"><a href="#信道的极限容量" class="headerlink" title="信道的极限容量"></a>信道的极限容量</h2><h3 id="信号失真"><a href="#信号失真" class="headerlink" title="信号失真"></a>信号失真</h3><p>数字信号通过实际的信道后，波形会产生失真，当失真不严重时，在输出端还可以根据已失真的波形还原出发送的码元。当失真严重时，在输出端就很难判断这个信号在什么时候是1和在什么时候是0。信号波形失去了码元之间的清晰界限，这种现象叫做<strong>码间串扰</strong>。</p>
<p>产生失真的原因主要有：码元传输速率、信号传输距离、噪声干扰、传输媒体质量等。</p>
<h3 id="奈氏准则"><a href="#奈氏准则" class="headerlink" title="奈氏准则"></a>奈氏准则</h3><p>在假定的理想条件下，<strong>为了避免码间串扰，码元传输速率是有上限的</strong>。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241016191125228.png" alt="image-20241016191125228"></p>
<p>当然，实际上的码元传输速率要显著低于奈式准则给出的速率。</p>
<p>那么，尽管奈氏准则限制了最高码元传输速率，但是只要采用技术更为复杂的信号调制方法，让码元可以携带更多的比特，岂不是可以无限制地提高信息的传输速率吗？</p>
<p>回答是否定的。因为在实际的信道中会有<strong>噪声</strong>，噪声是随机产生的，其瞬时值有时会很大，这会影响接收端对码元的识别，并且噪声功率相对于信号功率越大，影响就越大。</p>
<h3 id="香农公式"><a href="#香农公式" class="headerlink" title="香农公式"></a>香农公式</h3><p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241016191835476.png" alt="image-20241016191835476"></p>
<p>c的单位是bit&#x2F;s</p>
<p>依据香农公式和奈氏准则，在信道带宽一定时，要提<strong>高传输速率</strong>就要使用<strong>多元制</strong>（调制方法要牛），也要<strong>提高信噪比</strong>。</p>
<p><a id="section1"></a></p>
<h2 id="信道复用技术"><a href="#信道复用技术" class="headerlink" title="信道复用技术"></a>信道复用技术</h2><p><strong>为什么要信道复用？</strong></p>
<p>为了要把信道资源彻底榨干，在实际网络里，通常是很多对用户共用一个信道来传输信息。但是这样的传输就可能会导致相互干扰，传输就失败了，所以我们要搞多路复用技术来解决这个干扰问题。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241018171948402.png" alt="image-20241018171948402"></p>
<h3 id="频分复用FDM"><a href="#频分复用FDM" class="headerlink" title="频分复用FDM"></a>频分复用FDM</h3><p>将整个带宽分为多份，用户在分配到一定的频带后，在通信过程中<strong>自始至终</strong>都占用这个频带。所有用户在同样的时间占用<strong>不同的带宽（即频带）资源</strong>。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241018173522319.png" alt="image-20241018173522319"></p>
<p>频分多址：可让N 个用户各使用一个频带，或让更多的用户<strong>轮流 使用</strong>这N 个频带，这种方式称为频分多址接入<strong>FDMA</strong>，即频分多址。也就是说，我有10个频带可供使用，但是有20个客户，那我就会前10用户先用，11-20用户再用，再轮流交替。</p>
<h3 id="时分复用TDM"><a href="#时分复用TDM" class="headerlink" title="时分复用TDM"></a>时分复用TDM</h3><p>将时间划分为一段段<strong>等长</strong>的时分复用帧（<strong>TDM帧</strong>），每一个时分复用的用户在每一个TDM 帧中占用<strong>固定序号</strong>的时隙， 每一个用户所占用的时隙是周期性地出现（其周期就是TDM帧的长度）。</p>
<p>TDM 信号也称为<strong>等时</strong>(isochronous) 信号，所有用户在不同的时间占用<strong>同样的频带宽度</strong>。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241018174537817.png" alt="image-20241018174537817"></p>
<p>时分多址：可让N 个用户各使用一个时隙，或让更多的用户<strong>轮流 使用</strong>这N 个时隙，这种方式称为时分多址接入<strong>TDMA</strong> (Time  Division Multiple Access)，简称为时分多址。</p>
<h3 id="统计时分复用STDM"><a href="#统计时分复用STDM" class="headerlink" title="统计时分复用STDM"></a>统计时分复用STDM</h3><p>因为对于时分复用而言，当某个用户在某个TDM帧中无数据发送时，这个时隙也不会给别人用，而是处于空闲状态，导致线路的利用率不高。</p>
<p>因此采用统计时分复用可以按需动态地分配时隙，因此可以提高线路的利用率。</p>
<h3 id="波分复用WDM"><a href="#波分复用WDM" class="headerlink" title="波分复用WDM"></a>波分复用WDM</h3><p><strong>即光的频分复用。</strong>使用一根光纤来同时传输多个光载波信号。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241018193407250.png" alt="image-20241018193407250"></p>
<h3 id="码分复用CDM"><a href="#码分复用CDM" class="headerlink" title="码分复用CDM"></a>码分复用CDM</h3><p>各用户在<strong>相同的时间</strong>使用<strong>相同的频带</strong>，各用户使用经过特殊挑选的 <strong>不同码型</strong>，因此彼此不会造成干扰。</p>
<p>当码分复用信道被多个不同地址的用户所共享时，就被称为<strong>码分多址CDMA</strong>。</p>
<p>我们把发送一个bit所需的时间划分为m个短间隔，每个间隔叫<strong>码片</strong>。每一个站有自己<strong>独特唯一</strong>的码片序列。</p>
<blockquote>
<p>例如，S站的码片序列为00011011，</p>
<p>那么，如果S站想要发送比特1，那它应该发送的是序列(-1 -1 -1 +1 +1 -1 +1 +1)</p>
<p>如果S站想要发送比特0，那它应该发送的是序列(+1 +1 +1 -1 -1 +1 -1 -1)，即上述序列的反码。</p>
</blockquote>
<p>每个站分配的码片序列：<strong>各不相同</strong>，且必须<strong>互相正交</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241018194755434.png" alt="image-20241018194755434"></p>
<p><img src="https://cdn.jsdelivr.net/gh/zlh123123/MyPictures/image-20241018195211023.png" alt="image-20241018195211023"></p>
<p>要发送信息的数据率&#x3D; b bit&#x2F;s，实际发送的数据率&#x3D; mb bit&#x2F;s，同时， 所占用频带宽度也提高到原来的m 倍。这种系统发送的信号有很强的抗干扰能力，其频谱类似于白噪声，不易被对手发现。</p>
<h2 id="数字传输系统与宽带接入技术"><a href="#数字传输系统与宽带接入技术" class="headerlink" title="数字传输系统与宽带接入技术"></a>数字传输系统与宽带接入技术</h2><p>早期，电话网长途干线采用频分复用 FDM 的模拟传输方式；目前，大都采用时分复用 PCM 的数字传输方式。</p>
<p>现代电信网业务包括语音、视频、图像和各种数据业务，因此需要一种能承载来自其他各种业务网络数据的传输网络。在数字化的同时， 光纤开始成为长途干线最主要的传输媒体。</p>
<p><strong>同步光纤网 SONET</strong>  ：各级时钟都来自一个非常精确的主时钟。</p>
<p>为光纤传输系统定义了同步传输的线路速率等级结构：</p>
<ul>
<li>传输速率以 51.84 Mbit&#x2F;s 为基础</li>
<li>对电信号称为：第 1 级同步传送信号 STS-1 (Synchronous Transport Signal)</li>
<li>对光信号称为：第 1 级光载波 OC-1 (Optical Carrier)</li>
</ul>
<p><strong>同步数字系列 SDH</strong>  ：ITU-T以美国标准 SONET 为基础制订的国际标准</p>
<p>与 SONET 的主要不同： SDH的基本速率为 155.52 Mbit&#x2F;s</p>
<ul>
<li>称为第 1 级同步传递模块 (Synchronous Transfer Module)，即 STM-1</li>
<li>相当于 SONET 体系中的 OC-3 速率</li>
</ul>
<p>SONET &#x2F; SDH 标准的意义：</p>
<ul>
<li>定义了标准光信号，规定了波长为 1310 nm 和 1550 nm 的激光源</li>
<li>在物理层定义了帧结构</li>
<li>使北美、日本和欧洲这三个地区三种不同的数字传输体制在 STM-1 等级上获得了统一</li>
<li>已成为公认的新一代理想的传输网体制</li>
<li>SDH 标准也适合于微波和卫星传输的技术体制</li>
</ul>
<p><strong>接入网</strong>：将主机连接到边缘路由器上  ，边缘路由器是端系统Host去往任何其他远程端系统的路径上的第一台路由器。</p>
<p>接入技术：</p>
<ul>
<li>有线网络接入技术：光纤到户FTTH、以太网、同轴电缆、双绞线的DSL、古老的拨号上网</li>
<li>无线网络接入技术： WiFi、 4G&#x2F;5G、卫星广域覆盖</li>
</ul>
<p>接入网：<strong>数字用户线DSL</strong>  </p>
<p>使用电话线连接到数字用户线接入复用器(DSLAM)  。DSL电话线上，语音和数据可以同时传输 ；数据进入互联网，语音连接到电话网  。上下行速率不对称  。</p>
<p>接入网： 同轴电缆  </p>
<p>家庭利用传统有线电视信号线（同轴电缆）接入头端上网；多个家庭共享有线电视的头端；不对称： 高达40 Mbps–1.2 Gbps下行传输速率，30-100 Mbps上行传输速率</p>
<h2 id="习题-1"><a href="#习题-1" class="headerlink" title="习题"></a>习题</h2><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1c4411d7jb/?p=18&share_source=copy_web&vd_source=b52385681217343bb296f541bb29d8ed&t=371">https://www.bilibili.com/video/BV1c4411d7jb/?p=18&amp;share_source=copy_web&amp;vd_source=b52385681217343bb296f541bb29d8ed&amp;t=371</a></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1c4411d7jb?spm_id_from=333.788.videopod.episodes&vd_source=e8e75c8a3156e152507ea0d6c7da00e4&p=20">2.7 第2章 物理层 习题课_哔哩哔哩_bilibili</a></p>
<h1 id="数据链路层"><a href="#数据链路层" class="headerlink" title="数据链路层"></a>数据链路层</h1><h2 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h2><p><strong>链路</strong>是从一个结点到相邻结点的一段物理线路，中间没有其他交换节点。</p>
<p><strong>数据链路</strong>则是在链路的基础上增加了一些必要的硬件（如网络适配器）和软件（如协议的实现）。</p>
<p>数据链路层以<strong>帧</strong>为单位进行数据传输与处理。</p>
<p><strong>数据链路层使用的信道主要有以下两种类型：</strong></p>
<ul>
<li>点对点信道</li>
<li>广播信道</li>
</ul>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241104144638993.png" alt="image-20241104144638993"></p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241024172051146.png" alt="image-20241024172051146"></p>
<p>对于<strong>点对点信道</strong>而言，数据链路层存在3个<strong>主要问题</strong>：</p>
<ul>
<li>封装成帧：为数据包添加帧头和帧尾的过程。首部和尾部的一个重要作用就是进行<strong>帧定界</strong>。</li>
<li>差错检测：帧在传输过程中可能发生误码</li>
<li>可靠传输：接收方收到含有误码的帧后，会直接将其丢弃。此时，如果数据链路层向上层提供的是<strong>不可靠服务</strong>，那么这样的丢弃是合理的，不会再管这个有误码的帧；如果提供<strong>可靠服务</strong>，那就还需要想办法让接收方主机再重新收到该帧的正确副本。<strong>事实上，误码无法避免，而能够确保发送方发什么，接收方就收到什么，就叫做可靠传输。</strong></li>
</ul>
<p>而对于<strong>广播信道</strong>而言，除了上述3个问题外，还存在其他问题：</p>
<ul>
<li>主机ABCDE通过总线互联，若A需要向C发送消息，那A会直接往总线上传输信息，那么BDE如何知道这个不是自己要接收的信息？C又如何知道知道这是自己要的信息？<strong>这个问题一般会采用把帧的目的地址加入到帧中一起传输。</strong></li>
<li>当总线上同时发生多个传输时，会发生<strong>数据碰撞</strong>。</li>
</ul>
<p>如今，在<strong>有线局域网</strong>领域，采用<strong>点对点信道和链路层交换机的交换式局域网</strong>已经能够取代上述的共享式信道局域网；而在<strong>无线局域网</strong>领域，我们仍然采用的是<strong>共享式信道局域网</strong>。</p>
<h2 id="封装成帧"><a href="#封装成帧" class="headerlink" title="封装成帧"></a>封装成帧</h2><p>封装成帧是指数据链路层给上层交付的协议数据单元添加帧头和帧尾使之成为帧。</p>
<ul>
<li><p><strong>帧头和帧尾中包含有重要的控制信息</strong></p>
</li>
<li><p>帧头和帧尾的作用之一是<strong>帧定界</strong>：发送方数据链路层的帧给到物理层后，会发送一串比特流给到接收方的物理层，而接收方的数据链路层就靠帧头和帧尾来界定比特流中哪些能构成一个完整的帧。</p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241104154718010.png" alt="image-20241104154718010"></p>
</li>
<li><p>当然，有的协议并不会采用帧头和帧尾的方式进行定界，而是在帧前添加<strong>前导码</strong>。前导码分为<strong>前同步码（使得发送方和接收方时钟同步）</strong>和<strong>帧开始定界符（表明后面紧跟的就是MAC帧）</strong>。此外以太网还规定了帧间间隔为96比特时间，因此，MAC帧不需要帧结束定界符。</p>
<p><a id="section2"></a></p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241104154737601.png" alt="image-20241104154737601"></p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241104154922518.png" alt="image-20241104154922518"></p>
</li>
</ul>
<p><strong>透明传输</strong>是指<strong>数据链路层对上层交付的传输数据没有任何限制</strong>，好像数据链路层不存在一样。如下列情况所示，帧中含有界定符</p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241104205119861.png" alt="image-20241104205119861"></p>
<p>此时接收方会错误接收这个较短的数据，也就是说，数据链路层对其上层交付的数据有特殊需求（至少不能包括界定符）。</p>
<p>那么我们如何实现透明传输？</p>
<ul>
<li><p>对于<strong>面向字节</strong>的物理链路：使用<strong>字符填充</strong>的方式，即在flag前插入转义字符的方式（当然转义字符前也可以插入转义字符）。</p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241104205526934.png" alt="image-20241104205526934"></p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241104205705467.png" alt="image-20241104205705467"></p>
</li>
<li><p><strong>面向比特</strong>的物理链路：采用<strong>比特填充</strong>的方式，在帧数据这每逢5个1就在后面加上一个0；然后接收方接收的时候只要把那个0给剔除就行了</p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241104210040397.png" alt="image-20241104210040397"></p>
</li>
</ul>
<p>当然，为了提高传输效率，我们应该让帧中真正有用的数据长度更长一些。而每一种数据链路层协议都规定了这个数据长度的上限，即<strong>最大传送单元MTU</strong>。</p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241104211002662.png" alt="image-20241104211002662"></p>
<h2 id="差错检测"><a href="#差错检测" class="headerlink" title="差错检测"></a>差错检测</h2><p><strong>比特差错</strong>：比特在传输过程中可能出错，1变0，0变1这种。</p>
<p><strong>误码率BER</strong>：一段时间内，传输错误的比特数占传输比特总数的比率</p>
<p>差错检测方法如下：</p>
<ul>
<li><p><strong>奇偶校验</strong>：在待发送的数据后面加1位奇偶检验位，使得整个数据（包括那个校验位）中“1”的个数为奇数（奇检验）或偶数（偶校验）。</p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241104212609108.png" alt="image-20241104212609108"></p>
</li>
<li><p><strong>循环冗余校验CRC</strong>：通过生成多项式来构造差错检测码，一般常用这个</p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241104212914786.png" alt="image-20241104212914786"></p>
<p>举例题型：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1c4411d7jb/?p=23&share_source=copy_web&vd_source=b52385681217343bb296f541bb29d8ed&t=417">https://www.bilibili.com/video/BV1c4411d7jb/?p=23&amp;share_source=copy_web&amp;vd_source=b52385681217343bb296f541bb29d8ed&amp;t=417</a></p>
</li>
</ul>
<p>这里的检错码只能进行检错而不能纠错，想纠错就要使用冗余信息更多的纠错码，但这个开销大，在计算机网络中不使用。实际上的做法是采用检错重传方式来纠错，或者直接丢弃差错帧。</p>
<h2 id="可靠传输"><a href="#可靠传输" class="headerlink" title="可靠传输"></a>可靠传输</h2><h3 id="概述-2"><a href="#概述-2" class="headerlink" title="概述"></a>概述</h3><p>当帧传输出现误码时，数据链路层应该怎么做？</p>
<ul>
<li>如果数据链路层提供不可靠传输服务：直接把误码帧丢掉</li>
<li>如果数据链路层提供可靠传输服务：想办法发送端发什么，接收端就该收到什么。</li>
</ul>
<p>一般而言，<strong>有线链路误码率比较低</strong>，所以<strong>不要求</strong>数据链路层提供可靠传输服务（一般由它的上级处理）；但<strong>无线链路受干扰大</strong>，数据链路层<strong>必须</strong>提供可靠传输服务。</p>
<p>此外，<strong>比特差错</strong>只是传输差错中的一种，（从整个计算机网络体系结构看）还可能存在<strong>分组丢失、分组失序和分组重复</strong>。不过，分组丢失、分组失序和分组重复一般不会出现在数据链路层，而是出现在其上层。</p>
<ul>
<li><p>分组丢失：路由器输入队列满，分组直接被路由器丢掉了</p>
<img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241104214604103.png" alt="image-20241104214604103" style="zoom:67%;" />
</li>
<li><p>分组失序：我的分组发送数据是ABC，但是实际收到的分组是BAC（比如）因为每个分组走的传输链路不同，到达的速度有快有慢。</p>
</li>
<li><p>分组重复：一个分组A被发出去以后，卡比在路由器（或者其他地方），到不了目标主机。然后发送端主机会触发超时重传，又发了一个分组A’，最后两个相同的数据包到了接收端。</p>
</li>
</ul>
<h3 id="停止-等待协议SW"><a href="#停止-等待协议SW" class="headerlink" title="停止-等待协议SW"></a>停止-等待协议SW</h3><h3 id="回退N帧协议GBN"><a href="#回退N帧协议GBN" class="headerlink" title="回退N帧协议GBN"></a>回退N帧协议GBN</h3><h3 id="选择重传协议SR"><a href="#选择重传协议SR" class="headerlink" title="选择重传协议SR"></a>选择重传协议SR</h3><h2 id="点对点协议PPP"><a href="#点对点协议PPP" class="headerlink" title="点对点协议PPP"></a>点对点协议PPP</h2><p>点对点协议PPP（Point-to-Point Protocol）是目前使用最广泛的点对点数据链路层协议。</p>
<p>它的特点是：简单；只检测差错，而不是纠正差错；不使用序号，也不进行流量控制；可同时支持多种网络层协议。</p>
<p><strong>PPP协议在哪里用得到？</strong></p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241104215729185.png" alt="image-20241104215729185"></p>
<p><strong>PPP协议的组成</strong>：</p>
<img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241104215946719.png" alt="image-20241104215946719" style="zoom:67%;" />

<p><strong>PPP帧格式</strong>：</p>
<img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241104221341279.png" alt="image-20241104221341279" style="zoom:67%;" />

<p><strong>PPP协议的透明传输如何实现？</strong></p>
<ul>
<li><p>面向字节的异步链路</p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241104221803783.png" alt="image-20241104221803783"></p>
</li>
<li><p>面向比特的同步链路</p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241104222057692.png" alt="image-20241104222057692"></p>
</li>
</ul>
<p><strong>PPP协议的差错检测如何实现？</strong></p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241104222244097.png" alt="image-20241104222244097"></p>
<h2 id="媒体接入控制MAC"><a href="#媒体接入控制MAC" class="headerlink" title="媒体接入控制MAC"></a>媒体接入控制MAC</h2><h3 id="概述-3"><a href="#概述-3" class="headerlink" title="概述"></a>概述</h3><p><strong>为什么要媒体接入控制？</strong></p>
<p>仍然是<strong>共享信道</strong>导致的，多台设备在同一信道上一起发送数据，就会发生碰撞。而媒体接入控制就是一种用来协调多个发送和接收站点对同一信道的占用问题的方法。</p>
<p><strong>媒体接入控制的分类和现状：</strong></p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241105162437427.png" alt="image-20241105162437427"></p>
<p>随着技术的发展，交换技术的成熟和成本的降低，具有更高性能的使用点对点链路和链路层交换机的交换式局域网在有线领域已完全取代了共享式局域网，但由于无线信道的广播天性，无线局域网仍然使用的是共享媒体技术。</p>
<h3 id="静态划分信道"><a href="#静态划分信道" class="headerlink" title="静态划分信道"></a>静态划分信道</h3><p>这部分在<a href="#section1">物理层</a>这里有讲过</p>
<h3 id="动态接入控制"><a href="#动态接入控制" class="headerlink" title="动态接入控制"></a>动态接入控制</h3><p>不再讨论受控接入，看随机接入</p>
<h4 id="CSMA-CD协议"><a href="#CSMA-CD协议" class="headerlink" title="CSMA&#x2F;CD协议"></a>CSMA&#x2F;CD协议</h4><p>这个东西的中文名叫：<strong>载波监听多址接入&#x2F;碰撞检测</strong></p>
<ul>
<li><strong>多址接入MA</strong>：多个站接在一根总线上，竞争一个总线</li>
<li><strong>载波监听CS</strong>：每个站在发帧之前要先看看总线上有没有其他人在发送帧。如果总线连续<a href="#section2">96比特时间</a>（发送96bit数据要的时间，即帧间最小间隔）空闲我就发；如果总线忙我就等，直到连续96比特时间空闲我再发。</li>
<li><strong>碰撞检测CD</strong>：边发送帧边检测有没有碰撞。一旦碰撞我就停止发送，等待一段时间后再发。</li>
</ul>
<p><strong>争用期（碰撞窗口）</strong></p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241105170607637.png" alt="image-20241105170607637"></p>
<p><strong>最小帧长</strong></p>
<p>最小帧长的大小即<strong>争用期的bit值&#x2F;8。</strong></p>
<img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241105171119486.png" alt="image-20241105171119486" style="zoom:80%;" />

<p><strong>最大帧长</strong></p>
<p>最大帧长也是存在的，毕竟不能让一个主机一直占据总线不放，而且每一个主机也会存在自己的缓冲区，帧长太长缓冲区也放不下。具体帧长多少取决于用的什么协议。</p>
<p><strong>退避时间</strong></p>
<img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241105171925205.png" alt="image-20241105171925205" style="zoom:80%;" />

<p><strong>信道利用率</strong></p>
<img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241105172141739.png" alt="image-20241105172141739" style="zoom: 80%;" />

<p>要提升信道利用率，就要</p>
<ul>
<li>$\tau$要小一点，即以太网端到端的距离要小一点</li>
<li>$T_0$要大一点，即帧长度要大一点</li>
</ul>
<p>一个题： <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1c4411d7jb/?p=31&share_source=copy_web&vd_source=b52385681217343bb296f541bb29d8ed&t=957">https://www.bilibili.com/video/BV1c4411d7jb/?p=31&amp;share_source=copy_web&amp;vd_source=b52385681217343bb296f541bb29d8ed&amp;t=957</a></p>
<h4 id="CSMA-CA协议"><a href="#CSMA-CA协议" class="headerlink" title="CSMA&#x2F;CA协议"></a>CSMA&#x2F;CA协议</h4><h2 id="MAC地址、IP地址和ARP协议"><a href="#MAC地址、IP地址和ARP协议" class="headerlink" title="MAC地址、IP地址和ARP协议"></a>MAC地址、IP地址和ARP协议</h2><ul>
<li>MAC地址是以太网的MAC子层使用的地址</li>
<li>IP地址是TCP&#x2F;IP体系结构网际层所使用的地址</li>
<li>ARP协议是用来当已知设备分配到的IP地址时，能够获取到设备的MAC地址</li>
<li>MAC地址属于数据链路层，而IP地址和ARP协议则属于网际层，三者具有千丝万缕的联系</li>
</ul>
<h3 id="MAC地址"><a href="#MAC地址" class="headerlink" title="MAC地址"></a>MAC地址</h3><p>使用点对点信道的数据链路层不需要使用地址，直接一对一通信即可。而使用<strong>广播信道</strong>的数据链路层则必须要用地址来区分主机谁是谁。每个主机发送的帧中都必须包括发送主机的地址和接收主机的地址，这些地址是用于媒体接入控制的，所以被称为<strong>MAC地址</strong>，MAC地址也被叫做<strong>硬件地址</strong>、<strong>物理地址（但不是说MAC地址属于物理层！）</strong>。</p>
<p>对于有线局域网适配器（有线网卡）和无线局域网适配器（无线网卡）来说，每个适配器的MAC地址是全球唯一的。对于交换机和路由器这种有多接口的，就会有更多的MAC地址。所以说<strong>MAC地址是接口的唯一标识，而不是设备的唯一标识。</strong></p>
<p><strong>MAC地址的格式：</strong></p>
<img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241106213803574.png" alt="image-20241106213803574" style="zoom:80%;" />

<p>MAC地址的发送顺序：从第一字节发送到第六字节；字节内从b0发送到b7。</p>
<p>对于广播地址而言：格式为FF-FF-FF-FF-FF-FF</p>
<p><strong>单播MAC地址</strong></p>
<img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241106214811253.png" alt="image-20241106214811253" style="zoom:80%;" />

<p>主机B给主机C发送<strong>单播帧</strong>，主机B首先要构建该<strong>单播帧</strong>，<strong>在帧首部中的目的地址字段填入主机C的MAC地址</strong>，源地址字段填入自己的MAC地址，再加上帧首部的其他字段、数据载荷以及帧尾部，就构成了该<strong>单播帧</strong>。</p>
<img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241106214925539.png" alt="image-20241106214925539" style="zoom:80%;" />

<p>主机B将该<strong>单播帧</strong>发送出去，主机A和C都会收到该<strong>单播帧</strong>。主机A的网卡发现该<strong>单播帧</strong>的目的MAC地址与自己的MAC地址不匹配，丢弃该帧；主机C的网卡发现该<strong>单播帧</strong>的目的MAC地址与自己的MAC地址匹配，接受该帧，并将该帧交给其上层处理。</p>
<p><strong>广播MAC地址</strong></p>
<img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241106215032619.png" alt="image-20241106215032619" style="zoom:80%;" />

<p>假设主机B要发送一个<strong>广播帧</strong>，主机B首先要构建该<strong>广播帧</strong>，<strong>在帧首部中的目的地址字段填入广播地址</strong>，也就是<strong>十六进制的全F</strong>，源地址字段填入自己的MAC地址，再加上帧首部中的其他字段、数据载荷以及帧尾部，就构成了该<strong>广播帧</strong>。</p>
<img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241106215419266.png" alt="image-20241106215419266" style="zoom:80%;" />

<p>主机B讲该<strong>广播帧</strong>发送出去，主机A和C都会收到该<strong>广播帧</strong>，<strong>发现该帧首部中的目的地址字段的内容是广播地址</strong>，就知道该帧是<strong>广播帧</strong>，主机A和主机C都接受该帧，并将该帧交给上层处理。</p>
<p><strong>多播MAC地址</strong></p>
<img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241106222253399.png" alt="image-20241106222253399" style="zoom:80%;" />

<p>每个主机都可以设置自己的多播组列表，假设主机B，C和D支持多播，各用户给自己的主机配置多播组列表如下所示</p>
<img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241106222514291.png" alt="image-20241106222514291" style="zoom:80%;" />

<p>主机A首先要构建该<strong>多播帧</strong>，<strong>在帧首部中的目的地址字段填入该多播地址</strong>，源地址点填入自己的MAC地址，再加上帧首部中的其他字段、数据载荷以及帧尾部，就构成了该<strong>多播帧</strong>。</p>
<p>主机A将该<strong>多播帧</strong>发送出去，主机B、C、D都会收到该<strong>多播帧</strong>。<strong>主机B和C发现该多播帧的目的MAC地址在自己的多播组列表中</strong>，主机B和C都会接受该帧；主机D发现该<strong>多播帧</strong>的目的MAC地址不在自己得多播组列表中，则丢弃该<strong>多播帧</strong>。</p>
<h3 id="IP地址"><a href="#IP地址" class="headerlink" title="IP地址"></a>IP地址</h3><p>IP地址的具体内容见网络层。</p>
<p>IP地址分成两部分：以192.168.0.1为例</p>
<ul>
<li>网络编号：标识以太网上几百万的网络，即192.168.0</li>
<li>主机编号：标识同一网络中的不同主机，即1</li>
</ul>
<img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241106223751814.png" alt="image-20241106223751814" style="zoom:80%;" />

<p><strong>MAC地址和IP地址间的关系</strong></p>
<img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241106223941322.png" alt="image-20241106223941322" style="zoom:67%;" />

<h3 id="ARP协议"><a href="#ARP协议" class="headerlink" title="ARP协议"></a>ARP协议</h3><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241106225625399.png" alt="image-20241106225625399" style="zoom:67%;" />

<p>主机B现在想要知道主机C的MAC地址，所以B会先去查询自己的ARP高速缓存表，如果有就直接读取，没有就还要请求。</p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241106225745913.png" alt="image-20241106225745913"></p>
<p>随后B发送的ARP请求报文应为：告知自己的IP和MAC地址，想知道IP地址为192.168.0.3的主机MAC地址。这个报文被<strong>封装在MAC帧中</strong>，并进行<strong>广播</strong>（即目的地址为FF-FF-FF-FF-FF-FF）。</p>
<p>主机A和主机C都会收到这个ARP请求报文，两台主机会把报文交给上层的ARP处理流程。A发现不对应自己的IP地址就不理会；C发现对应自己的IP就要动。</p>
<p>C会<strong>首先将B的IP和MAC地址存到自己的ARP高速缓存表中</strong>，然后向B进行<strong>单播</strong>（即目的地址为B的MAC地址），告知自己C的MAC地址。B收到以后就会把C的IP和MAC存入表。</p>
<p>对于高速缓存表中的项，存在动态和静态：</p>
<ul>
<li><strong>动态数据</strong>为自动获取，生命周期为默认两分钟。是因为IP和MAC并不是永远固定，比如我一台主机换网卡MAC地址就会变。</li>
<li><strong>静态数据</strong>为手动设置，不同操作系统下生命周期不同。</li>
</ul>
<p>注意ARP协议只能在一段链路或一个网络中使用，跨网络不能用。</p>
<img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241106230550905.png" alt="image-20241106230550905" style="zoom:67%;" />

<h2 id="集线器与交换机"><a href="#集线器与交换机" class="headerlink" title="集线器与交换机"></a>集线器与交换机</h2><h2 id="虚拟局域网VLAN"><a href="#虚拟局域网VLAN" class="headerlink" title="虚拟局域网VLAN"></a>虚拟局域网VLAN</h2><h1 id="网络层"><a href="#网络层" class="headerlink" title="网络层"></a>网络层</h1><h2 id="概述-4"><a href="#概述-4" class="headerlink" title="概述"></a>概述</h2><p>网络层的主要任务是<strong>实现网络互连</strong>，进而<strong>实现数据包在各网络之间的传输</strong>。</p>
<p>网络层面临的主要问题：</p>
<ul>
<li><p>网络层向其上一层运输层提供<strong>可靠服务还是不可靠服务</strong>（可靠传输就是指网络层对<strong>分组丢失</strong>、<strong>分组失序</strong>、<strong>分组重复</strong>这三种错误采取措施以确保接收方接收数据正确；如果不能保证正确，就是不可靠传输）</p>
</li>
<li><p><strong>网络层寻址问题</strong>：各个路由器间IP地址的关系</p>
</li>
<li><p><strong>路由选择问题</strong>：路由器收到数据后，<strong>依据数据包的目的地址和路由器中的路由表</strong>来决定将数据包从自己的哪个接口转发出去</p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/24878825-14fffa90e5256d53.png" alt="img"></p>
</li>
</ul>
<p>关于路由选择问题，实际操作中如何构造路由表？</p>
<ul>
<li><p>由用户或网络管理员进行<strong>人工配置</strong>，这种方法只适用于<strong>规模较小且网络拓扑不改变</strong>的小型互联网</p>
</li>
<li><p>另一种是实现各种<strong>路由选择协议</strong>，由路由器执行路由选择协议中所规定的路由选择算法，而自动得出路由表中的路有记录，这种方法更适合规模较大且网络拓扑经常改变的大型互联网</p>
</li>
</ul>
<p>因特网作为最大用户最多的互联网，使用TCP&#x2F;IP协议栈，该协议栈的网络层使用网际协议IP，因此我们也把网络层称为网际层。<strong>网络层（网际层）</strong>除了 <strong>IP协议</strong>外，还有之前介绍过的<strong>地址解析协议ARP</strong>，还有<strong>网际控制报文协议ICMP</strong>，<strong>网际组管理协议IGMP</strong>。</p>
<h2 id="网络层提供的两种服务"><a href="#网络层提供的两种服务" class="headerlink" title="网络层提供的两种服务"></a>网络层提供的两种服务</h2><p>本节注重处理“网络层向其上一层运输层提供可靠服务还是不可靠服务”这一个问题。<strong>提供可靠服务的是面向连接的虚电路服务；提供不可靠服务的是无连接的数据报服务。</strong></p>
<h3 id="面向连接的虚电路服务"><a href="#面向连接的虚电路服务" class="headerlink" title="面向连接的虚电路服务"></a>面向连接的虚电路服务</h3><p>该连接方式的核心在于：可靠通信由<strong>网络</strong>来保证。</p>
<ul>
<li>通信之前先建立<strong>虚电路</strong> (Virtual Circuit)，以保证双方通信所需的一切网络资源。</li>
<li>目的主机的地址只有第一个分组要携带，后续分组的首部只需要携带选中的<strong>虚电路编号</strong>即可。</li>
<li>如果再使用可靠传输的网络协议，就可使所发送的分组无差错按序到达终点，不丢失、不重复。</li>
<li>通信结束后，需要释放建立的虚电路。</li>
</ul>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241124181139970.png" alt="image-20241124181139970"></p>
<blockquote>
<p><strong>发送方</strong> 发送给 <strong>接收方</strong> 的所有分组都沿着<strong>同一条虚电路</strong>传送</p>
<ul>
<li>虚电路表示这只是一条<strong>逻辑上的连接</strong>，分组都沿着这条逻辑连接按照存储转发方式传送，而并不是真正建立了一条物理连接。</li>
<li>而<strong>电路交换的电话通信</strong>是先建立了一条真正的连接。分组交换的虚连接和电路交换的连接只是类似，但并不完全一样。</li>
</ul>
</blockquote>
<h3 id="无连接的数据报服务"><a href="#无连接的数据报服务" class="headerlink" title="无连接的数据报服务"></a>无连接的数据报服务</h3><p>该连接方式的核心在于：可靠通信由<strong>用户主机</strong>来保证。是因特网采用的网络层服务方式。</p>
<ul>
<li><p>网络层向上只提供<strong>简单灵活的、无连接的、尽最大努力交付的数据报服务</strong>。</p>
</li>
<li><p>网络在发送分组时不需要先建立网络层连接。每一个分组（即 IP 数据报）独立发送，与其前后的分组无关（不进行编号），都可以走不同的路径，意味着<strong>每个分组的首部都需要携带目的主机的完整地址</strong>。</p>
</li>
<li><p><strong>网络层不提供服务质量的承诺</strong>。即所传送的分组可能出错、丢失、重复和失序（不按序到达终点），当然也不保证分组传送的时限，使得路由器就好做便宜。</p>
</li>
</ul>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241124181852960.png" alt="image-20241124181852960"></p>
<blockquote>
<p><strong>发送方</strong> 发送给 <strong>接收方</strong> 的分组可能沿着<strong>不同路径</strong>传送</p>
<ul>
<li>如果主机（即端系统）中的进程之间的通信需要是可靠的，那么就由网络的主机中的<strong>运输层</strong>负责可靠交付（包括差错处理、流量控制等） 。</li>
<li>互连网能够发展到今日的规模，充分证明了当初采用这种设计思路的正确性。</li>
</ul>
</blockquote>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241124192934720.png" alt="image-20241124192934720"></p>
<h2 id="IPv4地址"><a href="#IPv4地址" class="headerlink" title="IPv4地址"></a>IPv4地址</h2><h3 id="基本概念-2"><a href="#基本概念-2" class="headerlink" title="基本概念"></a>基本概念</h3><ul>
<li><p>IPv4地址就是因特网上每一台主机（或者路由器的每一个接口）分配一个在全世界范围内唯一的32bit的标识符。</p>
</li>
<li><p>IP地址由因特网名字和数字分配机构ICANN进行分配</p>
</li>
<li><p>IPv4地址的编制方法：<strong>分类编址-&gt;划分子网-&gt;无分类编址</strong></p>
</li>
<li><p>IPv4地址采用<strong>点分十进制</strong>表示方法进行表示</p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241124193850454.png" alt="image-20241124193850454"></p>
</li>
</ul>
<h3 id="分类编址的IPv4地址"><a href="#分类编址的IPv4地址" class="headerlink" title="分类编址的IPv4地址"></a>分类编址的IPv4地址</h3><p>这个阶段中的IPv4地址可分为5类：</p>
<img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241124194114548.png" alt="image-20241124194114548" style="zoom:67%;" />

<p>这里的红数字表示该类地址的固定首部数字。</p>
<ul>
<li>只有A、B、C类地址可以分配给主机或路由器接口</li>
<li><strong>主机号全为0</strong>称为<strong>网络地址</strong>，不能分配给主机或路由器接口</li>
<li><strong>主机号全为1</strong>称为<strong>广播地址</strong>，不能分配给主机或路由器接口</li>
</ul>
<h4 id="A类地址"><a href="#A类地址" class="headerlink" title="A类地址"></a>A类地址</h4><p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241124195649991.png" alt="image-20241124195649991"></p>
<ul>
<li>对于网络号而言，其首位固定为0，则其所有可能情况共$2^{8-1}-2&#x3D;126$种（这里的减2是为了去除保留网络号<code>00000000</code>和本地回环测试地址<code>01111111</code>），因此可指派的网络数量为126。</li>
<li>对于主机号而言，其所有可能情况共$2^{24}-2$种（这里的减2是去掉全0的网络地址和全1的广播地址），即每个网络中可分配的IP地址数量为$2^{24}-2$。</li>
</ul>
<h4 id="B类地址"><a href="#B类地址" class="headerlink" title="B类地址"></a>B类地址</h4><p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241125183721798.png" alt="image-20241125183721798"></p>
<ul>
<li>对于网络号而言，其首位固定为10，故可指派的网络数量为$2^{16-2}$个</li>
<li>对于主机号而言，每个网络中可分配的IP地址数量为$2^{16}-2$个（这里的减2是去掉全0的网络地址和全1的广播地址）。</li>
</ul>
<h4 id="C类地址"><a href="#C类地址" class="headerlink" title="C类地址"></a><strong>C类地址</strong></h4><p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241125184059381.png" alt="image-20241125184059381"></p>
<ul>
<li>对于网络号而言，其首位固定为110，故可指派的网络数量为$2^{24-3}$个</li>
<li>对于主机号而言，每个网络中可分配的IP地址数量为$2^{8}-2&#x3D;254$个（这里的减2是去掉全0的网络地址和全1的广播地址）。</li>
</ul>
<h4 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h4><ul>
<li>根据地址第一个十进制数的值即可确定其地址类别：<strong>0-127为A类，128-191为B类，192-223为C类</strong></li>
<li>三种情况的地址不能分配给主机或路由器：<ul>
<li>A类网络，且其网络号为0或127</li>
<li>主机号全为0的网络地址</li>
<li>主机号全为1的广播地址</li>
</ul>
</li>
<li>特殊的IPv4地址<ul>
<li><code>0.0.0.0</code>表示在本网络上的本主机，只能作为源地址使用</li>
<li><code>255.255.255.255</code>表示只在本网络上进行广播，路由器不进行转发，只能用于目的地址。</li>
<li>以127开头，且后面3个十进制数非“全0”“全1”，用于本地软件回环测试，既能用于源地址，也能用于目的地址。</li>
</ul>
</li>
</ul>
<h3 id="划分子网的IPv4地址"><a href="#划分子网的IPv4地址" class="headerlink" title="划分子网的IPv4地址"></a>划分子网的IPv4地址</h3><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/24878825-7e6aa3fe4c6184e4.png" alt="img" style="zoom: 25%;" />

<p>如图，现在需要把该网络划分为3个独立的网络，即子网1、子网2、子网3。如果仍然采用老方法：申请新的IP地址，就会面临以下问题：</p>
<ul>
<li>等待时间很长还要爆米</li>
<li>要增加路由器中路由表记录的数量</li>
<li>浪费原来网络中的IP地址</li>
</ul>
<p>因此，我们可以从主机号中取出几个比特来标识这是子网几。为了让计算机知道哪几位用来标识子网，有了<strong>子网掩码</strong>这个东西。</p>
<h4 id="子网掩码"><a href="#子网掩码" class="headerlink" title="子网掩码"></a><strong>子网掩码</strong></h4><p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/24878825-0050159cd99737aa.png" alt="img"></p>
<h4 id="举个栗子"><a href="#举个栗子" class="headerlink" title="举个栗子"></a>举个栗子</h4><p>举例1：子网掩码为255.255.255.128，即子网有两个</p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/24878825-24fc0f5e02ad49ab.png" alt="img"></p>
<p>栗子2：子网掩码为255.255.255.192，即有4个子网</p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/24878825-4e988e8ed1e154e3.png" alt="img"></p>
<h4 id="默认子网掩码"><a href="#默认子网掩码" class="headerlink" title="默认子网掩码"></a>默认子网掩码</h4><p>就是默认不划分子网时的子网掩码</p>
<ul>
<li>A类地址默认子网掩码为<code>255.0.0.0</code></li>
<li>B类地址默认子网掩码为<code>255.255.0.0</code></li>
<li>C类地址默认子网掩码为<code>255.255.255.0</code></li>
</ul>
<h3 id="无分类编址的IPv4地址"><a href="#无分类编址的IPv4地址" class="headerlink" title="无分类编址的IPv4地址"></a>无分类编址的IPv4地址</h3><h4 id="CIDR"><a href="#CIDR" class="headerlink" title="CIDR"></a>CIDR</h4><p>该地址模式称为<strong>CIDR</strong>（无分类域间路由选择），消除了原先的ABC地址分类和子网这一概念。CIDR通过“<strong>网络前缀</strong>”的方式来标识网络号和子网号。</p>
<p>例如地址<code>128.14.35.7/20</code>，表示地址<code>128.14.35.7</code>的前20位bit为网络前缀，剩余12位为主机号。可见下面的栗子：</p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/24878825-bdff407b4d15ec43.png" alt="img"></p>
<ul>
<li><p>这里的聚合C类网数量即<br>$$<br>\frac{地址数量}{C类网地址数量，即2^8}<br>$$</p>
</li>
<li><p>地址掩码即：网络前缀全取1，主机号全取0</p>
</li>
</ul>
<h4 id="路由聚合"><a href="#路由聚合" class="headerlink" title="路由聚合"></a>路由聚合</h4><p>又称构造超网</p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/24878825-a495310e8e5bc13a.png" alt="img"></p>
<p>当R1将其所有路由记录告诉R2时，R2的路由表中就要存5条记录，而我们可以通过路由聚合的方式，把这5条记录合并为1条。</p>
<p>在上例中，先找记录目的地址的共同前缀为22位（在聚合地址块中记为<code>/22</code>)，剩余10位均取0，得到的地址块<code>172.1.4.0</code>。</p>
<h3 id="IPv4地址的使用流程"><a href="#IPv4地址的使用流程" class="headerlink" title="IPv4地址的使用流程"></a>IPv4地址的使用流程</h3><p>给定一个IPv4地址块，如何将其划分成几个更小的地址块，并将这些地址块分配给互联网中不同网络，进而可以给各网络中的主机和路由器接口分配IPv4地址？</p>
<p>这个分配有两种方法：<strong>定长的子网掩码FLSM和变长的子网掩码VLSM</strong></p>
<h4 id="定长的子网掩码FLSM"><a href="#定长的子网掩码FLSM" class="headerlink" title="定长的子网掩码FLSM"></a>定长的子网掩码FLSM</h4><ul>
<li>使用同一子网掩码来划分子网</li>
<li>划分出的子网数固定，为$2^n$个，n为从主机号中取出来用于表示子网号的比特数</li>
<li>每个子网的IP地址数量一样，会造成IP地址浪费</li>
</ul>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/24878825-814f06bb5874b724.png" alt="img"></p>
<ul>
<li>5个网络中，IP地址需求最大的是N2，其需要28个地址</li>
<li>还需要划分5个子网，因此从主机号中取出的用于表示子网的应该有3个bit。对于C类网而言，主机号剩余的5个bit能表示32个地址，满足28个地址的需求。</li>
</ul>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/24878825-a90a636c0ff5f71c.png" alt="img"></p>
<p>用子网掩码<code>255.255.255.224</code>来划分C类网络<code>218.75.230.0</code>的细节如下：</p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/24878825-da16abd19e811578.png" alt="img"></p>
<p>我们可以从子网1~8中任取5个分配给5个子网即可。</p>
<h4 id="变长的子网掩码VLSM"><a href="#变长的子网掩码VLSM" class="headerlink" title="变长的子网掩码VLSM"></a>变长的子网掩码VLSM</h4><ul>
<li>使用不同子网掩码来划分子网</li>
<li>子网划分灵活，可以按需分配</li>
<li>每个子网的IP地址数量可以不一样，进而减少IP地址的浪费</li>
</ul>
<p>当我们已知了每个网络所需的IP地址数量后，就可以<strong>确定其需要的主机号位数，再拿32-主机号位数即网络前缀位数</strong>：</p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/24878825-e7a3b3efa0032ed5.png" alt="img"></p>
<p>现在问题就变成了把地址块<code>218.75.230.0/24</code>分为5个地址块。<code>218.75.230.0/24</code>的所有取值可能为：<code>218.75.230.0</code>至<code>218.75.230.255</code>。</p>
<p>分配准则为：<strong>每个子块的初始位置只能选取块大小整数倍的位置作为起点，一般先分配大子块（即IP数多的，这里的N2）</strong></p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/24878825-b855ffbf02fe4306.png" alt="img"></p>
<h2 id="IP数据报的发送与转发"><a href="#IP数据报的发送与转发" class="headerlink" title="IP数据报的发送与转发"></a>IP数据报的发送与转发</h2><p>IP数据报的发送与转发分为<strong>主机发送IP数据报</strong>和<strong>路由器转发IP数据报</strong>。</p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/24878825-cb603ff4350d2927.png" alt="img"></p>
<p>各主机和路由器R的两个接口对应的IP地址和子网掩码如图。如果主机A要向主机C发送数据包（<strong>同一网络</strong>）属于<strong>直接交付</strong>；主机A向主机D发送数据包（<strong>不同网络</strong>）属于<strong>间接交付</strong>。现在以主机A向主机D发送数据包为例分析：</p>
<ul>
<li><p>主机A如何知道主机D和它是不是在一个网络里？</p>
<p>主机A会将自己的IP与子网掩码进行逻辑与运算得到<strong>源网络地址</strong>，将主机D的IP与子网掩码进行逻辑与运算得到<strong>目的网络地址</strong>。</p>
<ul>
<li><p>如果<strong>目的网络地址</strong>和<strong>源网络地址</strong>  <strong>相同</strong>，就是<strong>在同一个网络</strong>中，属于<strong>直接交付</strong></p>
</li>
<li><p>如果<strong>目的网络地址</strong>和<strong>源网络地址</strong>  <strong>不相同</strong>，就<strong>不在同一个网络</strong>中，属于<strong>间接交付</strong>，传输给主机所在网络的<strong>默认网关</strong>（路由器——下图会讲解）,由默认网关帮忙转发</p>
</li>
</ul>
</li>
<li><p>主机A如何知道有路由器R的存在？</p>
<p>用户为了让本网络中的主机能和其他网络中的主机进行通信，就必须给其指定本网络的一个路由器的接口，由该路由器帮忙进行转发，所指定的路由器，也被称为<strong>默认网关</strong>。例如。路由器的接口0的IP地址192.168.0.128做为左边网络的默认网关。</p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/24878825-5f7abd26ae50d253.png" alt="img"></p>
</li>
<li><p>主机A会将该IP数据报传输给自己的默认网关，也就是图中所示的路由器接口0。路由器收到IP数据报后如何转发？</p>
<ul>
<li>检查IP数据报<strong>首部是否出错</strong>。若出错，则直接丢弃该IP数据报并通告源主机；若没有出错，则进行转发。</li>
<li>根据IP数据报的目的地址在<strong>路由表</strong>中查找匹配的条目。若找到匹配的条目，则转发给条目中指示的下一跳；若找不到，则丢弃该数据报并通告源主机。</li>
</ul>
<p>在本例中，IP数据报首部地址为：源地址<code>192.168.0.1</code>，目的地址<code>192.168.0.129</code>。</p>
</li>
<li><p>路由器R进行<strong>路由表查表</strong>的过程是什么样的？</p>
<img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/image-20241125203249848.png" alt="image-20241125203249848" style="zoom:67%;" />

<p>逐条检查路由条目，将目的地址与路由条目中的地址掩码进行逻辑与运算得到<strong>目的网络地址</strong>，然后与<strong>路由条目中的目的网络</strong>进行比较，如果相同，则这条路由条目就是匹配的路由条目，按照它的下一条指示，图中所示的也就是接口1转发该IP数据报。</p>
</li>
<li><p>若A主机进行广播会发生什么？</p>
<p>若A主机进行广播，其IP数据报首部目的地址为<code>192.168.0.127</code>（本网络广播地址）或者<code>255.255.255.255</code>（受限广播地址）。<strong>此时的路由器并不会对该广播进行转发</strong>，只有B和C主机能收到该广播消息。<strong>这说明路由器是隔离广播域的，能够防止广播风暴</strong>。（如果因特网中的路由器都能转发广播，那世界上所有主机都能收到这个广播，造成网络资源的严重浪费）</p>
<blockquote>
<ul>
<li>中继器和集线器工作于物理层，既不隔离冲突域也不隔离广播域</li>
<li>网桥和交换机（多端口网桥）工作于数据链路层，可以隔离冲突域，但不能隔离广播域</li>
<li>路由器工作于网络层，既隔离冲突域也隔离广播域</li>
</ul>
</blockquote>
</li>
</ul>
<h2 id="静态路由配置与路由环路"><a href="#静态路由配置与路由环路" class="headerlink" title="静态路由配置与路由环路"></a>静态路由配置与路由环路</h2><p>静态路由配置指用户或管理员为路由器人工配置路由表。这种配置方式简单、开销小，但不能及时适应网络状态变化。</p>
<p>使用静态路由配置可能出现以下错误，而这些错误可能导致<strong>路由环路</strong>：</p>
<ul>
<li>配置错误</li>
<li>聚合不存在的网络</li>
<li>网络故障</li>
</ul>
<h3 id="静态路由配置"><a href="#静态路由配置" class="headerlink" title="静态路由配置"></a>静态路由配置</h3><p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/24878825-214e6a6830649edd.png" alt="img"></p>
<p>例如上图中，R2要向<code>192.168.1.0/24</code>转发数据，但是在其路由表中没有这一目的地址，因此需要手动添加。R2的下一跳转发给R1的1接口，所以在其路由表中添加最后一行的值，即为静态路由配置，其类型为静态。</p>
<h3 id="默认路由"><a href="#默认路由" class="headerlink" title="默认路由"></a>默认路由</h3><p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/24878825-8887ba23edaae006.png" alt="img"></p>
<p>上图中，若R1想要向因特网中的某台主机发送数据报。因特网中主机数量数不胜数，人工配置显然不可能，所以使用<strong>默认路由</strong>。默认路由可以被所有网络匹配，但路由匹配有优先级，<strong>默认路由是优先级最低的</strong>。</p>
<h3 id="特定主机路由"><a href="#特定主机路由" class="headerlink" title="特定主机路由"></a>特定主机路由</h3><p>我们可以给路由器添加针对某个主机的特定主机路由条目，一般用于网络管理人员对网络的管理和测试。</p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/24878825-434c1eec83abd86f.png" alt="img"></p>
<p>上图中的R1要为其配置一个指向特地主机<code>192.168.2.1</code>的路由。其目的网络格式为<code>特定主机IP（这里是192.168.2.1）/32</code>。</p>
<h3 id="路由环路"><a href="#路由环路" class="headerlink" title="路由环路"></a>路由环路</h3><h4 id="配置错误导致路由环路"><a href="#配置错误导致路由环路" class="headerlink" title="配置错误导致路由环路"></a>配置错误导致路由环路</h4><p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/24878825-d30fc31c76fe75b2.png" alt="img"></p>
<p>在上图中，由于配置错误，R2路由表第三条配置的下一跳搞错了（应该指向R1的接口1，即<code>10.0.0.1</code>，这里被错误设置成R3的接口0）。R2将数据报发送给R3的接口0后，R3进行查表转发，选中R3路由表第3条配置，又将数据报发送至<code>10.0.1.1</code>（即R2的接口1）。就这样数据报在R2和R3间循环打转。</p>
<p>解决方法见上图右上角。</p>
<h4 id="聚合不存在的网络导致路由环路"><a href="#聚合不存在的网络导致路由环路" class="headerlink" title="聚合不存在的网络导致路由环路"></a>聚合不存在的网络导致路由环路</h4><p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/24878825-030c93bce1443043.png" alt="img"></p>
<p>R2路由表中第3条为聚合路由，其指向的具体地址见上图右上角。当目的网络为<code>192.168.3.3/24</code>时，R2本应不予转发（因为该IP在网络中不存在），但其实际上转发给了R1的1接口。R1查表后按默认路由进行转发，又转发给了R2的0接口，就这样又产生了路由环路。</p>
<p>解决方案为：添加<strong>黑洞路由</strong>，下一跳为<code>null0</code>的数据报直接丢弃。</p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/24878825-caeddc52bde20f9c.png" alt="img"></p>
<h4 id="网络故障导致路由环路"><a href="#网络故障导致路由环路" class="headerlink" title="网络故障导致路由环路"></a>网络故障导致路由环路</h4><p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/24878825-e3848e2bfcfc2c62.png" alt="img"></p>
<p>R1到主机<code>192.168.1.0/24</code>的线路故障后，R1会将其路由表中的对应条目删除。此时R2还想向主机<code>192.168.1.0/24</code>转发数据，走R2的聚合路由到R1的1号口；R1收到后走默认路由，又回到了R2的0号口。</p>
<p>解决方案为：给故障网络添加黑洞路由</p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/24878825-d8107f8fc71dd1f4.png" alt="img"></p>
<p>如果后续该网络故障修复，R1会自动回复正常的<code>192.168.1.0/24</code>转发项，并使黑洞路由自动失效。</p>
<h2 id="路由选择协议"><a href="#路由选择协议" class="headerlink" title="路由选择协议"></a>路由选择协议</h2><h3 id="概述-5"><a href="#概述-5" class="headerlink" title="概述"></a>概述</h3><p>路由选择协议分为<strong>静态路由选择和动态路由选择</strong>。静态路由选择就是上面的人工配置；动态路由协议则是路由器通过路由选择协议自动获取路由信息。</p>
<p><strong>因特网采用的路由选择协议的特点：</strong></p>
<ul>
<li><strong>自适应</strong>：路由动态选择，能适应网络变化</li>
<li><strong>分布式</strong>：路由器之间交换路由信息</li>
<li><strong>分层次</strong>：因特网被划分为诸多娇小的自治系统</li>
</ul>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/24878825-9e37d1229ec7836e.png" alt="img"></p>
<blockquote>
<p><strong>域间路由</strong>选择使用<strong>外部网关协议EGP</strong></p>
<p><strong>域内路由</strong>选择使用<strong>内部网关协议IGP</strong></p>
</blockquote>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/24878825-8729bdd2bd367edf.png" alt="img"></p>
<p><strong>常见路由选择协议如下：</strong></p>
<p><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/24878825-6b1876963d6d9de0.png" alt="img"></p>
<p><strong>路由器的基本结构</strong></p>
<h2 id="IPv4数据报的首部"><a href="#IPv4数据报的首部" class="headerlink" title="IPv4数据报的首部"></a>IPv4数据报的首部</h2><h2 id="网际控制报文协议ICMP"><a href="#网际控制报文协议ICMP" class="headerlink" title="网际控制报文协议ICMP"></a><strong>网际控制报文协议ICMP</strong></h2><h2 id="虚拟专用网VPN与网络地址转换NAT"><a href="#虚拟专用网VPN与网络地址转换NAT" class="headerlink" title="虚拟专用网VPN与网络地址转换NAT"></a>虚拟专用网VPN与网络地址转换NAT</h2><h1 id="作业"><a href="#作业" class="headerlink" title="作业"></a>作业</h1><h2 id="作业1"><a href="#作业1" class="headerlink" title="作业1"></a>作业1</h2><p>1-10</p>
<p>电路交换时延为$s+kd+\frac{x}{b}$</p>
<p>分组数为$\frac{x}{p}$，发送时延为$\frac{p}{b}$，则分组交换时延为$\frac{x}{p} \cdot \frac{p}{b}+(k-1)\cdot\frac{p}{b}+kd$</p>
<p>当分组交换的时延比电路交换小时，<br>$$<br>\frac{x}{p} \cdot \frac{p}{b}+(k-1)\cdot\frac{p}{b}+kd&lt;s+kd+\frac{x}{b}<br>\<br>(k-1)\cdot\frac{p}{b}&lt;s<br>$$<br>1-11</p>
<p>分组数为$\frac{x}{p}$，发送时延为$\frac{p+h}{b}$。</p>
<p>则总时延：<br>$$<br>T&#x3D;\frac{x}{p} \cdot \frac{p+h}{b}+(k-1)\cdot\frac{p+h}{b}<br>$$<br>令T对p的导数为0，即<br>$$<br>-\frac{x}{p^2}\cdot\frac{p+h}{b}+\frac{x}{p} \cdot\frac{1}{b}+\frac{k-1}{b}&#x3D;0<br>\<br>xh&#x3D;(k-1)p^2<br>\<br>p&#x3D;\sqrt{\frac{xh}{k-1}}<br>$$<br> 1-21</p>
<p>协议是指控制两个对等实体进行逻辑通信的规则集合。</p>
<p>服务则是在协议的控制下，两个对等实体间的逻辑通信使得本层能够向上一层提供的一种功能。</p>
<p>两者的关系是：要实现本层协议，需要使用下面一层所提供的服务。协议是“水平的”，服务是“垂直的”。实体看得见相邻下层所提供的服务，但并不知道实现该服务的具体协议。</p>
<p>1-22</p>
<p>协议三要素：语法、语义、同步</p>
<ul>
<li>语法：定义所交换信息的格式</li>
<li>语义：定义收发双方所要完成的操作</li>
<li>同步：定义收发双方的时序关系</li>
</ul>
<p>1-24</p>
<ul>
<li>物理层：解决使用何种信号来传输比特的问题，实现比特传输</li>
<li>数据链路层：实现两个相邻节点之间的可靠通信，解决分组在一个网络或一段链路上传输的问题</li>
<li>网络层：为分组交换网上的不同主机提供通信服务，解决分组在多个网络上传输、路由的问题</li>
<li>运输层：负责向两台主机中进程之间的通信提供通用的数据传输服务，解决进程之间基于网络的通信问题。</li>
<li>应用层：提供应用进程间的交互来完成特定网络应用</li>
</ul>
<p>1-26</p>
<ul>
<li>协议栈：协议栈是指在计算机网络中，为了实现网络通信而定义的一组协议的层次结构。</li>
<li>实体：任何可发送或者接收信息的硬件或软件进程。</li>
<li>对等层：收发双方相同层次中的实体。</li>
<li>协议数据单元：对等层次之间传送的数据包称为该层的协议数据单元。</li>
<li>服务访问点：在同一系统中相邻两层的实体交换信息的逻辑接口，用于区分不同的服务类型。</li>
<li>客户：请求服务的一方，它通常是运行在用户终端的程序或设备。</li>
<li>服务器：提供服务的一方，通常是运行在远程计算机上的程序或设备。</li>
<li>客户-服务器方式：一种网络架构模式，在这种模式中，客户向服务器请求服务，而服务器提供所需的服务或资源。</li>
</ul>
<p>1-28</p>
<p>（1）<br>$$<br>\begin{aligned}<br>T&amp;&#x3D;160ms+\frac{1.5\cdot1024^2\cdot8}{10\cdot10^6}+0.5\cdot 80ms<br>\<br>&amp;&#x3D;1.458s<br>\end{aligned}<br>$$<br>（2）<br>$$<br>分组个数&#x3D;\frac{1.5\cdot1024KB}{1KB}&#x3D;1536<br>$$</p>
<p>$$<br>\begin{aligned}<br>T&amp;&#x3D;160ms+\frac{1.5\cdot1024^2\cdot8}{10\cdot10^6}+0.5\cdot 80ms+1535\cdot80ms<br>\<br>&amp;&#x3D;124.258s<br>\end{aligned}<br>$$</p>
<p>（3）<br>$$<br>消耗的RTT时间&#x3D;\frac{1536}{20}&#x3D;76，剩余16个分组<br>$$</p>
<p>$$<br>\begin{aligned}<br>T&amp;&#x3D;160ms+76\cdot 80ms+0.5*80ms<br>\<br>&amp;&#x3D;6.28s<br>\end{aligned}<br>$$</p>
<p>（4）</p>
<p>在第n个RTT时间内，共发送$2^n-1$个分组。</p>
<p>由$2^{10}-1&lt;1536&lt;2^{11}-1$，故需要11个RTT时间能完成传输。<br>$$<br>\begin{aligned}<br>T&amp;&#x3D;160ms+10\cdot 80ms+0.5*80ms<br>\<br>&amp;&#x3D;1s<br>\end{aligned}<br>$$<br>1-29<br>$$<br>传播时延&#x3D;\frac{50\cdot1000}{2\cdot10^8}&#x3D;2.5\cdot10^{-4}s<br>$$<br>当分组长度为100字节时，<br>$$<br>带宽&#x3D;\frac{100\cdot8}{2.5\cdot10^{-4}}\cdot\frac{1}{10^6}&#x3D;3.2Mbps<br>$$<br>当分组长度为512字节时，<br>$$<br>带宽&#x3D;\frac{512\cdot8}{2.5\cdot10^{-4}}\cdot\frac{1}{10^6}&#x3D;16.384Mbps<br>$$<br>1-35<br>$$<br>传播时延&#x3D;\frac{5000\cdot10^3}{2.5\cdot10^8}&#x3D;0.02s<br>\<br>比特数目最大值&#x3D;0.02\cdot1\cdot10^6&#x3D;2\cdot10^4 bit<br>\<br>每比特的宽度&#x3D;\frac{5000\cdot10^3}{2\cdot10^4}&#x3D;250m<br>\<br>新的比特数目最大值&#x3D;1bit<br>\<br>发送速率&#x3D;\frac{1}{0.02}&#x3D;50bps<br>$$<br>1-36</p>
<p>吞吐量为三段链路中的最小值，即500kbit&#x2F;s<br>$$<br>T&#x3D;\frac{10\cdot1024^2\cdot8}{500\cdot10^3}&#x3D;167.77s<br>$$<br>由于路由器还有处理时延、排队时延、转发时延存在，所以只能计算大致时间。</p>
<h2 id="作业2"><a href="#作业2" class="headerlink" title="作业2"></a>作业2</h2><p>2-06</p>
<p>数据的传输速率受到信道带宽、信噪比、调制方式、传输介质等因素的限制。</p>
<p>信噪比不能无限提高，由于存在噪声和设备本身存在的物理限制。</p>
<p>香农公式给出了在给定信道带宽和信噪比的情况下，最大可实现的数据传输速率，该值能帮助工程师设计和优化通信系统。</p>
<p>比特&#x2F;秒：是数据传输的速率单位，表示每秒传输的比特数。</p>
<p>码元&#x2F;秒：是信号变化（或符号变化）的速率单位，表示每秒传输的符号数。</p>
<p>在数字通信中，一个符号可以表示多个比特（例如在高阶调制中，一次符号可以表示4、8或更多比特）。</p>
<p>2-07</p>
<p>由$16&#x3D;2^4$，则一个码元中携带了4个bit的信息量，则<br>$$<br>数据率&#x3D;20000\cdot4&#x3D;80000bit&#x2F;s<br>$$<br>2-09</p>
<p>由香农公式，若想使最大信息传输速率增加 60%  ，<br>$$<br>35\cdot10^3&#x3D;3100\cdot log_{2}(1+\frac{S}{N})<br>\<br>35\cdot10^3\cdot1.6&#x3D;3100\cdot log_{2}(1+{\frac{S}{N}}’)<br>\<br>解得：\frac{S}{N}&#x3D;2504Hz， {\frac{S}{N}}’&#x3D;274132Hz<br>$$<br>故信噪比应该增大到109倍。</p>
<p>将信噪比 S&#x2F;N 再增大到 10 倍 ，则<br>$$<br>C’&#x3D;3100\cdot log_2(1+274132\cdot10)&#x3D;66298bit&#x2F;s<br>\<br>则\frac{C’}{C}&#x3D;\frac{66298}{35\cdot10^3\cdot1.6}&#x3D;1.183&lt;1.2<br>$$<br>故最大信息传输速率不能再增加 20%  。</p>
<p>2-13</p>
<p>信道复用技术的主要目的是为了提高通信系统的效率和利用率，最大化地利用有限的频谱资源。</p>
<p>常用的信道复用技术有：频分复用、时分复用、统计时分复用、波分复用和码分复用等。</p>
<p>2-14</p>
<ol>
<li>FDM (Frequency Division Multiplexing)<br>频分复用：一种信号复用技术，通过将可用的频率带宽划分成多个子频带来同时传输多个信号。</li>
<li>FDMA (Frequency Division Multiple Access)<br>频分多址：利用频分复用技术，不同用户使用不同的频支持通道进行通信。</li>
<li>TDM (Time Division Multiplexing)<br>时分复用：通过将时间划分成多个时间片（时间槽）来允许多路信号在同一物理信道上轮流传输。</li>
<li>TDMA (Time Division Multiple Access)<br>时分多址：使用时分复用技术，不同用户在不同的时间槽中占用同一信道进行通信。</li>
<li>STDM (Statistical Time Division Multiplexing)<br>统计时分复用：在时分复用的基础上，根据流量动态分配时间片，提高信道的使用效率。</li>
<li>WDM (Wavelength Division Multiplexing)<br>波分复用：通过使用不同波长的光信号在同一光纤中复用多个信号，增加光纤的传输容量。</li>
<li>DWDM (Dense Wavelength Division Multiplexing)<br>密集波分复用：一种高级的波分复用技术，可以在光纤上使用更紧密间隔的波长，从而显著提升带宽。</li>
<li>CDMA (Code Division Multiple Access)<br>码分多址：通过为每个用户分配一个唯一的码字，允许多个用户在同一带宽的信道上同时传输信息。</li>
<li>SONET (Synchronous Optical Network)<br>同步光网络：一种在光纤上高效传输数据的标准化通信协议，广泛用于高速数据传输。</li>
<li>SDH (Synchronous Digital Hierarchy)<br>同步数字体系：与SONET等效，是一种用于在数字信号间传输的标准，旨在确保设备之间的兼容性。</li>
<li>STM-1 (Synchronous Transport Module level 1)<br>同步传输模块1级：是SDH标准中的一个基本传输速率，速率为155.52 Mbps的信号格式。</li>
<li>OC-48 (Optical Carrier level 48)<br>光载体48级：是SONET标准中的一种传输速率，其速率为2.4 Gbps，常用于高速网络传输。</li>
</ol>
<p>补充</p>
<p>对于同步时分多路复用，<br>$$<br>带宽&#x3D;15\cdot9600bit&#x2F;s&#x3D;144kbps<br>$$<br>采用统计时分复用，<br>$$<br>可用信道&#x3D;\frac{15}{2}&#x3D;7.5<br>\<br>带宽&#x3D;7.5\cdot9600\cdot0.8&#x3D;57.6kbps<br>$$</p>
<h2 id="作业3"><a href="#作业3" class="headerlink" title="作业3"></a>作业3</h2><p>3-07</p>
<p>（1）</p>
<p>被除数为：1101011011 0000，除数为：10011，</p>
<p>则余数为：1110</p>
<p>（2）</p>
<p>被除数为：1101011010 1110，除数为：10011，</p>
<p>则余数为10000，余数不为0，故接收端能够发现。</p>
<p>（3）</p>
<p>被除数为：1101011000 1110，除数为：10011，</p>
<p>则余数为100，余数不为0，故接收端能够发现。</p>
<p>（4）</p>
<p>采用CRC检验只能检测出误码错误，而不能进行纠错，数据链路层不能向上层提供可靠服务，因此不是可靠传输。</p>
<p>3-09</p>
<p>PPP帧中数据部分7D5E-&gt;7E，7D5D-&gt;7D，故真正的数据为</p>
<p>7E FE 27 7D 7D 65 7E</p>
<p>3-10</p>
<p>零比特填充后变为011011111<strong>0</strong>11111<strong>0</strong>00</p>
<p>删除零比特后变为00011101111111111110</p>
<p>3-20<br>$$<br>2\tau&#x3D;1 \cdot10^9 \cdot \frac{1}{200000}\cdot2&#x3D;10000bit<br>$$<br>3-24</p>
<p>A为以太网所容许的最短帧长，故A的帧长为64字节，即512bit。在实际的发送过程中，还需要考虑到前同步码和帧定界符，故实际发送的A帧为<br>$$<br>512bit+8\cdot8bit&#x3D;576bit<br>$$<br>当T&#x3D;225比特时间时，B能够得知A发送的信息。</p>
<p>故假设B在T&#x3D;224比特时间时开始发送数据，则B会在T&#x3D;225比特时间时检测到碰撞。</p>
<p>当T&#x3D;224+225&#x3D;449比特时间时，A收到B发送的信息，并检测到碰撞。由于449&lt;576，所以A在检测到碰撞前不能将数据发送完毕。</p>
<p>3-25</p>
<p>A的回避时间为0比特时间；B的回避时间为512比特时间。</p>
<p>当t&#x3D;273比特时间时，A和B都完成了干扰信号的传输；当t&#x3D;273+225+96&#x3D;594比特时间时，A开始发送帧。</p>
<p>而B会在t&#x3D;273+512&#x3D;785比特时间时，检测信道是否空闲，若空闲才会发送数据。</p>
<p>而A的帧会在t&#x3D;594+225&#x3D;819比特时间时到达B，此时B会检测到信道忙，故不会发送帧数据。</p>
<p>3-27</p>
<p>（1）10个站的带宽总和为10Mbps</p>
<p>（2）10个站的带宽总和为100Mbps</p>
<p>（3）10个站的带宽均为10Mbps</p>
<p>3-30<br>$$<br>吞吐量&#x3D;100Mbps\cdot6&#x3D;600Mbps<br>$$<br>3-32</p>
<p>当交换机换为集线器，吞吐量最大值取决于链路的最大速率，即100Mbps</p>
<p>3-33</p>
<table>
<thead>
<tr>
<th align="center">交换表的状态</th>
<th align="center">向哪些端口转发帧</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">写入(A,1)</td>
<td align="center">所有接口</td>
<td align="center">交换表为空，交换机不知道目标接口</td>
</tr>
<tr>
<td align="center">写入(D,4)</td>
<td align="center">A</td>
<td align="center">交换机知道A连接到接口1</td>
</tr>
<tr>
<td align="center">写入(E,5)</td>
<td align="center">A</td>
<td align="center">交换机知道A连接到接口1</td>
</tr>
<tr>
<td align="center">更新(A,1)的有效时间</td>
<td align="center">E</td>
<td align="center">交换机知道E连接到接口5</td>
</tr>
</tbody></table>
<h2 id="作业4"><a href="#作业4" class="headerlink" title="作业4"></a>作业4</h2><p>4-03</p>
<ul>
<li>转发器工作于物理层，其功能是简单地接收并转发信号，延伸网络的传输距离。</li>
<li>网桥工作于数据链路层，其功能是连接不同的网络段，过滤和转发数据帧。</li>
<li>路由器工作于网络层，其功能是根据IP地址路由数据包，连接不同的网络，选择最佳路径。</li>
<li>网关可以在多层次工作，充当网络之间的“翻译器”，可以处理不同协议间的转换。</li>
</ul>
<p>4-15</p>
<p>在进行分片时，每片中实际能发送的报文长度为<br>$$<br>1200-160&#x3D;1040bit<br>$$<br>则共需要分片数为<br>$$<br>\frac{3200+160}{1040}&#x3D;3.23，即需要4分片<br>$$<br>每个分片的数据长度为1040bit、1040bit、1040bit和80bit。</p>
<p>故传输数据为<br>$$<br>1040+1040+1040+80+160\cdot4&#x3D;3840bit<br>$$<br>4-17</p>
<p>主机A发送和主机B接收数据报均使用一次ARP，路由器每次转发也使用一次ARP，共6次ARP。</p>
<p>4-18</p>
<p>（1）末尾十进制数10转为二进制为<code>00001010</code>，为0号子网，下一跳为接口m0。</p>
<p>（2）末尾十进制数12转为二进制为<code>00001100</code>，为0号子网，下一跳为R2。</p>
<p>（3）末尾十进制数151转为二进制为<code>10010111</code>，为1号子网，进行默认路由，下一跳为R4。</p>
<p>（4）末尾十进制数17转二进制为<code>00010001</code>，为00子网，下一跳为R3。</p>
<p>（5）末尾十进制数90转二进制为<code>01011010</code>，为01子网，进行默认路由，下一跳为R4。</p>
<p>4-19</p>
<p>地址平均分布在16个地点，故划分为16个子网，主机号中前4位用于标识子网，后12位标识主机号。</p>
<p>每个子网中的主机数为<br>$$<br>\frac{4000}{16}&#x3D;250台<br>$$<br>则0000子网（地址块1）的IP地址为：</p>
<ul>
<li>最小IP：<code>129.250.00000000.00000001</code>，转换为点分十进制即<code>129.250.0.1</code></li>
<li>最大IP：<code>129.250.00001111.11111110</code>，转换为点分十进制即<code>129.250.15.254</code></li>
</ul>
<p>0001子网（地址块2）的IP地址为：</p>
<ul>
<li>最小IP：<code>129.250.00010000.00000001</code>，转换为点分十进制即<code>129.250.16.1</code></li>
<li>最大IP：<code>129.250.00011111.11111110</code>，转换为点分十进制即<code>129.250.31.254</code></li>
</ul>
<p>后续子网与上述同理。</p>
<p>4-20<br>$$<br>数据报片&#x3D;\frac{4000}{1500}&#x3D;2.66，即需要3个数据报片<br>$$</p>
<ul>
<li>数据字段长度分别为1480，1480，1020字节</li>
<li>片偏移字段为0，185，370</li>
<li>MF字段为1，1，0</li>
</ul>
<p>4-22</p>
<p>4个地址块的前两位十进制数相同，将后两位十进制数转换为二进制：</p>
<ul>
<li>10000100.00000000</li>
<li>10000101.00000000</li>
<li>10000110.00000000</li>
<li>10000111.00000000</li>
</ul>
<p>前6位<code>100001</code>数值相同，其他位的值取0，得到聚合地址为<code>212.56.132.0/22</code>。</p>
<p>4-26</p>
<ul>
<li>LAN1：共50台主机，由$2^6&#x3D;64$，主机号共6位，网络前缀为32-6&#x3D;26位。则网络地址为<code>192.77.33.0/26</code></li>
<li>LAN3、LAN6、LAN7、LAN8：由$2^5&#x3D;32$，主机号共5位，网络前缀32-5&#x3D;27位。则4个局域网的网络地址为<code>192.77.33.64/27</code>、<code>192.77.33.96/27</code>、<code>192.77.33.128/27</code>、<code>192.77.33.160/27</code>。</li>
<li>LAN2、LAN4：由$2^4&#x3D;16$，主机号共4位，网络前缀32-4&#x3D;28位。则网络地址为<code>192.77.33.176/28</code>、<code>192.77.33.192/28</code>。</li>
<li>LAN5：需要2位主机号，网络地址为<code>192.77.33.196/30</code>。</li>
</ul>
<p>4-33</p>
<p>（1）网络前缀长度为26+2&#x3D;28位</p>
<p>（2）主机号共32-28&#x3D;4位，故每个子网中的地址数为$2^4&#x3D;16$个</p>
<p>（3）原地址块<code>136.23.12.64/26</code>，其末尾十进制数<code>64</code>转为二进制<code>01000000</code>。则每个地址块为：</p>
<ul>
<li>末尾二进制<code>01000000</code>，地址为<code>136.23.12.64/28</code></li>
<li>末尾二进制<code>01010000</code>，地址为<code>136.23.12.80/28</code></li>
<li>末尾二进制<code>01100000</code>，地址为<code>136.23.12.96/28</code></li>
<li>末尾二进制<code>01110000</code>，地址为<code>136.23.12.112/28</code></li>
</ul>
<p>（4）</p>
<ul>
<li>最小地址<code>136.23.12.65</code>，最大地址<code>136.23.12.78</code></li>
<li>最小地址<code>136.23.12.81</code>，最大地址<code>136.23.12.94</code></li>
<li>最小地址<code>136.23.12.97</code>，最大地址<code>136.23.12.110</code></li>
<li>最小地址<code>136.23.12.113</code>，最大地址<code>136.23.12.126</code></li>
</ul>
<p>4-37</p>
<table>
<thead>
<tr>
<th align="center">目的网络</th>
<th align="center">距离</th>
<th align="center">下一跳路由器</th>
<th align="center">备注</th>
</tr>
</thead>
<tbody><tr>
<td align="center">N1</td>
<td align="center">7</td>
<td align="center">A</td>
<td align="center">原路由表不变</td>
</tr>
<tr>
<td align="center">N2</td>
<td align="center">5</td>
<td align="center">C</td>
<td align="center">相同下一跳</td>
</tr>
<tr>
<td align="center">N3</td>
<td align="center">9</td>
<td align="center">C</td>
<td align="center">新目的网络</td>
</tr>
<tr>
<td align="center">N6</td>
<td align="center">5</td>
<td align="center">C</td>
<td align="center">不同下一跳且距离更短</td>
</tr>
<tr>
<td align="center">N8</td>
<td align="center">4</td>
<td align="center">E</td>
<td align="center">不同下一跳且距离不变</td>
</tr>
<tr>
<td align="center">N9</td>
<td align="center">4</td>
<td align="center">F</td>
<td align="center">不同下一跳且距离更长</td>
</tr>
</tbody></table>
<p>4-38</p>
<p>（1）eBGP</p>
<p>（2）iBGP</p>
<p>（3）eBGP</p>
<p>（4）iBGP</p>
<p>4-42</p>
<p><strong>NAT（Network Address Translation，网络地址转换）</strong>是一种网络技术，用于在IP数据包通过路由器或防火墙时修改源或目标IP地址。NAT 主要用于将公共IP地址与私有IP地址之间进行转换，从而减少对公共IP地址的需求，并增强网络安全性。</p>
<p><strong>NAPT（Network Address Port Translation，网络地址和端口转换）特点：</strong></p>
<ol>
<li><strong>端口号映射</strong>：NAPT 通过将私有网络中的多个主机的IP地址和端口号映射到一个公共IP地址的不同端口，使得多个设备可以共享一个公网IP地址。</li>
<li><strong>节省IP地址</strong>：通过端口号的转换，NAPT 可以有效减少互联网中所需的公共IP地址数量。</li>
<li><strong>提高安全性</strong>：NAPT 可隐藏内部IP地址，降低内部网络曝光的风险，增加安全性。</li>
<li><strong>支持动态分配</strong>：当内部网络中的主机建立连接时，NAPT 可以动态地管理端口映射，允许临时分配端口。</li>
</ol>
<p><strong>NAT 的优点：</strong></p>
<ol>
<li><strong>节省IP地址</strong>：允许多个设备共享单个公共IP地址，延缓了IPv4地址枯竭的问题。</li>
<li><strong>增加安全性</strong>：通过隐藏内部网络结构，NAT 可以降低外部攻击的风险。</li>
<li><strong>简化网络管理</strong>：内部网络的IP地址可以动态分配，而不需要影响公共网络的配置。</li>
<li><strong>网络地址的灵活性</strong>：可以自由更改内部网络结构而不影响外部连通性。</li>
</ol>
<p><strong>NAT 的缺点：</strong></p>
<ol>
<li><strong>影响某些协议</strong>：某些协议（如P2P协议、VoIP等）不兼容NAT，可能需要其他机制（如STUN或TURN）来解决。</li>
<li><strong>性能开销</strong>：NAT 可能引入额外的延迟和处理开销，影响网络性能。</li>
<li><strong>连接问题</strong>：由于NAT会更改数据包的源地址，在某些情境下，会导致真接的主机之间无法建立连接。</li>
<li><strong>无法根据IP进行路由</strong>：NAT 会使得端到端的通信变得复杂，因为地址不再是唯一的可寻址的标识符。</li>
</ol>
<p>4-48</p>
<p>（1）</p>
<table>
<thead>
<tr>
<th align="center">目的网络</th>
<th align="center">下一跳</th>
</tr>
</thead>
<tbody><tr>
<td align="center">145.13.0.0&#x2F;18</td>
<td align="center">m0</td>
</tr>
<tr>
<td align="center">145.13.64.0&#x2F;18</td>
<td align="center">m1</td>
</tr>
<tr>
<td align="center">145.13.128.2&#x2F;18</td>
<td align="center">m2</td>
</tr>
<tr>
<td align="center">145.13.192.0&#x2F;18</td>
<td align="center">m3</td>
</tr>
<tr>
<td align="center">0.0.0.0&#x2F;0</td>
<td align="center">m4</td>
</tr>
</tbody></table>
<p>（2）目的地址后两位十进制数<code>160.78</code>转换为二进制<code>10100000.01001110</code>，属于聚合网络<code>145.13.128.2/18</code>。故从m2接口转发。</p>
<p>4-66</p>
<table>
<thead>
<tr>
<th align="center">匹配</th>
<th align="center">动作</th>
</tr>
</thead>
<tbody><tr>
<td align="center">入端口为1，IP源地址为10.3.*.*，IP目的地址为10.1.*.*</td>
<td align="center">端口2转发</td>
</tr>
<tr>
<td align="center">入端口为2，IP源地址为10.1.*.*，IP目的地址为10.3.*.*</td>
<td align="center">端口1转发</td>
</tr>
<tr>
<td align="center">入端口为1或2，IP源地址为10.3.*.*，IP目的地址为10.2.0.4</td>
<td align="center">端口4转发</td>
</tr>
<tr>
<td align="center">入端口为1或2，IP源地址为10.3.*.*，IP目的地址为10.2.0.3</td>
<td align="center">端口3转发</td>
</tr>
<tr>
<td align="center">入端口为4，IP源地址为10.2.0.4，IP目的地址为10.2.0.3</td>
<td align="center">端口3转发</td>
</tr>
<tr>
<td align="center">入端口为3，IP源地址为10.2.0.3，IP目的地址为10.2.0.4</td>
<td align="center">端口4转发</td>
</tr>
</tbody></table>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://zlh123123.github.io">Linghao Zhang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://zlh123123.github.io/2024/10/09/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">http://zlh123123.github.io/2024/10/09/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="http://zlh123123.github.io" target="_blank">好急好急的Hexo博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%9F%BA%E7%A1%80%E8%AF%BE/">基础课</a><a class="post-meta__tags" href="/tags/%E8%AE%A1%E7%BD%91/">计网</a></div><div class="post-share"><div class="social-share" data-image="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/【哲风壁纸】动漫少女-樱花庄.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2024/10/12/%E5%AF%86%E7%A0%81%E5%AD%A6/" title="密码学"><img class="cover" src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/【哲风壁纸】二次元-动漫.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">密码学</div></div><div class="info-2"><div class="info-item-1">...</div></div></div></a><a class="pagination-related" href="/2024/07/21/%E6%97%A5%E8%AF%AD%E5%8A%A9%E8%AF%8D%E5%8A%A8%E8%AF%8D%E4%B8%8E%E5%BD%A2%E5%AE%B9%E8%AF%8D%E5%8F%98%E5%BD%A2/" title="日语助词动词与形容词变形"><img class="cover" src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/【哲风壁纸】二次元-动漫1.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">日语助词动词与形容词变形</div></div><div class="info-2"><div class="info-item-1">动词变形原形与动词分类一类动词非る结尾的动词或る前的假名为あ段、う段和お段。  行く（いく） 始まる（はじまる）  特殊一类动词：以る结尾，且る前面的假名为い段或え段，但其是一类动词。 口诀：要知入归走切减滑  要る（いる） 知る（しる） 入る（はいる） 帰る（かえる） 走る（はしる） 切る（きる） 減る（へる） 滑る（すえる）  二类动词以る结尾，且る前面的假名为い段或え段。  起きる（おきる） 寝る（ねる）  三类动词即来る（くる）和する。 其中，动名词 +...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2024/06/14/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" title="操作系统原理"><img class="cover" src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/【哲风壁纸】云-动画片-动画电影.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-14</div><div class="info-item-2">操作系统原理</div></div><div class="info-2"><div class="info-item-1">...</div></div></div></a><a class="pagination-related" href="/2024/10/12/%E5%AF%86%E7%A0%81%E5%AD%A6/" title="密码学"><img class="cover" src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/【哲风壁纸】二次元-动漫.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-12</div><div class="info-item-2">密码学</div></div><div class="info-2"><div class="info-item-1">...</div></div></div></a><a class="pagination-related" href="/2024/10/12/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86/" title="数据库原理"><img class="cover" src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/【哲风壁纸】多啦a梦-日本动漫.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-12</div><div class="info-item-2">数据库原理</div></div><div class="info-2"><div class="info-item-1">...</div></div></div></a><a class="pagination-related no-desc" href="/2024/11/26/%E7%B3%BB%E7%BB%9F%E8%BD%AF%E4%BB%B6%E5%AE%89%E5%85%A8/" title="系统软件安全"><img class="cover" src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/【哲风壁纸】全职高手-苏沐橙.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-11-26</div><div class="info-item-2">系统软件安全</div></div></div></a><a class="pagination-related" href="/2024/06/19/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" title="编译原理"><img class="cover" src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/【哲风壁纸】间谍过家家-阿尼亚.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-19</div><div class="info-item-2">编译原理</div></div><div class="info-2"><div class="info-item-1">注意！这里的表述不一定精准，且不一定覆盖考点！ 基本定义字母表由字母、数字、标点符号组成的集合  乘积：A中取一个元素，B中取一个元素，两个连接起来后的集合 n次幂：长度为n的符号串构成的集合。n&#x3D;0叫空串$\varepsilon $  正闭包：各个正数次幂的并集，长度为正数的符号串构成的集合，用+号 克林闭包：正闭包$\bigcup$空串集合，长度为非负数的符号串构成的集合，用*号  串由字母表中符号组成的有穷序列，包括空串。长度记作$\left | s \right | $，就是符号数  连接运算：x和y的连接就是xy，空串是单位元 x&#x3D;yz：...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/apple-touch-icon-removebg-preview.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Linghao Zhang</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">11</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">12</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/zlh123123"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/zlh123123" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:zhanglinghao@sjtu.edu.cn" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到我的博客，这里是我的个人博客，主要用来记录一些学习笔记和生活感悟，希望能给你带来一些帮助。</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text">概述</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%A0%E7%89%B9%E7%BD%91"><span class="toc-number">1.1.</span> <span class="toc-text">因特网</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%A0%E4%B8%AA%E6%A6%82%E5%BF%B5"><span class="toc-number">1.1.1.</span> <span class="toc-text">几个概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%A0%E7%89%B9%E7%BD%91%E6%9C%8D%E5%8A%A1%E6%8F%90%E4%BE%9B%E8%80%85ISP"><span class="toc-number">1.1.2.</span> <span class="toc-text">因特网服务提供者ISP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%A0%E7%89%B9%E7%BD%91%E7%9A%84%E7%BB%84%E6%88%90"><span class="toc-number">1.1.3.</span> <span class="toc-text">因特网的组成</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E7%A7%8D%E4%BA%A4%E6%8D%A2%E6%96%B9%E5%BC%8F"><span class="toc-number">1.2.</span> <span class="toc-text">三种交换方式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%B5%E8%B7%AF%E4%BA%A4%E6%8D%A2"><span class="toc-number">1.2.1.</span> <span class="toc-text">电路交换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E4%BA%A4%E6%8D%A2"><span class="toc-number">1.2.2.</span> <span class="toc-text">分组交换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%A5%E6%96%87%E4%BA%A4%E6%8D%A2"><span class="toc-number">1.2.3.</span> <span class="toc-text">报文交换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E7%A7%8D%E4%BA%A4%E6%8D%A2%E6%96%B9%E5%BC%8F%E7%9A%84%E5%AF%B9%E6%AF%94"><span class="toc-number">1.2.4.</span> <span class="toc-text">三种交换方式的对比</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9A%84%E5%AE%9A%E4%B9%89%E4%B8%8E%E5%88%86%E7%B1%BB"><span class="toc-number">1.3.</span> <span class="toc-text">计算机网络的定义与分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89"><span class="toc-number">1.3.1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%B1%BB"><span class="toc-number">1.3.2.</span> <span class="toc-text">分类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%89%E8%A6%86%E7%9B%96%E8%8C%83%E5%9B%B4%E5%88%86%E7%B1%BB"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">按覆盖范围分类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%89%E6%8B%93%E6%89%91%E7%BB%93%E6%9E%84%E5%88%86%E7%B1%BB"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">按拓扑结构分类</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87"><span class="toc-number">1.4.</span> <span class="toc-text">性能指标</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9F%E7%8E%87"><span class="toc-number">1.4.1.</span> <span class="toc-text">速率</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%A6%E5%AE%BD"><span class="toc-number">1.4.2.</span> <span class="toc-text">带宽</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%9E%E5%90%90%E9%87%8F"><span class="toc-number">1.4.3.</span> <span class="toc-text">吞吐量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E5%BB%B6"><span class="toc-number">1.4.4.</span> <span class="toc-text">时延</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E5%BB%B6%E5%B8%A6%E5%AE%BD%E7%A7%AF"><span class="toc-number">1.4.5.</span> <span class="toc-text">时延带宽积</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%80%E8%BF%94%E6%97%B6%E9%97%B4RTT"><span class="toc-number">1.4.6.</span> <span class="toc-text">往返时间RTT</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E7%8E%87"><span class="toc-number">1.4.7.</span> <span class="toc-text">利用率</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A2%E5%8C%85%E7%8E%87"><span class="toc-number">1.4.8.</span> <span class="toc-text">丢包率</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">1.5.</span> <span class="toc-text">计算机网络体系结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#OSI%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E5%92%8CTCP-IP%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">1.5.1.</span> <span class="toc-text">OSI体系结构和TCP&#x2F;IP体系结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%88%86%E5%B1%82%E7%9A%84%E5%BF%85%E8%A6%81%E6%80%A7"><span class="toc-number">1.5.2.</span> <span class="toc-text">计算机网络分层的必要性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%93%E4%B8%9A%E6%9C%AF%E8%AF%AD%E8%A7%A3%E9%87%8A"><span class="toc-number">1.5.3.</span> <span class="toc-text">专业术语解释</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BD%93"><span class="toc-number">1.5.3.1.</span> <span class="toc-text">实体</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.5.3.2.</span> <span class="toc-text">协议</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.5.3.3.</span> <span class="toc-text">服务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E8%AE%BF%E9%97%AE%E7%82%B9"><span class="toc-number">1.5.3.4.</span> <span class="toc-text">服务访问点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%8E%9F%E8%AF%AD"><span class="toc-number">1.5.3.5.</span> <span class="toc-text">服务原语</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%A0%E9%A2%98"><span class="toc-number">1.6.</span> <span class="toc-text">习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E5%B1%82"><span class="toc-number">2.</span> <span class="toc-text">物理层</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">2.1.</span> <span class="toc-text">基本概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E5%B1%82%E4%B8%8B%E7%9A%84%E4%BC%A0%E8%BE%93%E5%AA%92%E4%BD%93"><span class="toc-number">2.2.</span> <span class="toc-text">物理层下的传输媒体</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%BC%E5%BC%95%E5%9E%8B%E4%BC%A0%E8%BE%93%E5%AA%92%E4%BD%93"><span class="toc-number">2.2.1.</span> <span class="toc-text">导引型传输媒体</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%8C%E8%BD%B4%E7%94%B5%E7%BC%86"><span class="toc-number">2.2.1.1.</span> <span class="toc-text">同轴电缆</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%8C%E7%BB%9E%E7%BA%BF"><span class="toc-number">2.2.1.2.</span> <span class="toc-text">双绞线</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%89%E7%BA%A4"><span class="toc-number">2.2.1.3.</span> <span class="toc-text">光纤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%B5%E5%8A%9B%E7%BA%BF"><span class="toc-number">2.2.1.4.</span> <span class="toc-text">电力线</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%9E%E5%AF%BC%E5%BC%95%E5%9E%8B%E4%BC%A0%E8%BE%93%E5%AA%92%E4%BD%93"><span class="toc-number">2.2.2.</span> <span class="toc-text">非导引型传输媒体</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A0%E7%BA%BF%E7%94%B5%E6%B3%A2"><span class="toc-number">2.2.2.1.</span> <span class="toc-text">无线电波</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BE%AE%E6%B3%A2"><span class="toc-number">2.2.2.2.</span> <span class="toc-text">微波</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BA%A2%E5%A4%96%E7%BA%BF"><span class="toc-number">2.2.2.3.</span> <span class="toc-text">红外线</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%A0%E8%BE%93%E6%96%B9%E5%BC%8F"><span class="toc-number">2.3.</span> <span class="toc-text">传输方式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%B2%E8%A1%8C%E4%B8%8E%E5%B9%B6%E8%A1%8C"><span class="toc-number">2.3.1.</span> <span class="toc-text">串行与并行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8C%E6%AD%A5%E4%B8%8E%E5%BC%82%E6%AD%A5"><span class="toc-number">2.3.2.</span> <span class="toc-text">同步与异步</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E5%90%91%E4%B8%8E%E5%8F%8C%E5%90%91"><span class="toc-number">2.3.3.</span> <span class="toc-text">单向与双向</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%96%E7%A0%81%E4%B8%8E%E8%B0%83%E5%88%B6"><span class="toc-number">2.4.</span> <span class="toc-text">编码与调制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-1"><span class="toc-number">2.4.1.</span> <span class="toc-text">基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%BC%96%E7%A0%81%E6%96%B9%E6%B3%95"><span class="toc-number">2.4.2.</span> <span class="toc-text">常用编码方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E5%BD%92%E9%9B%B6%E7%BC%96%E7%A0%81"><span class="toc-number">2.4.2.1.</span> <span class="toc-text">不归零编码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BD%92%E9%9B%B6%E7%BC%96%E7%A0%81"><span class="toc-number">2.4.2.2.</span> <span class="toc-text">归零编码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9B%BC%E5%BD%BB%E6%96%AF%E7%89%B9%E7%BC%96%E7%A0%81"><span class="toc-number">2.4.2.3.</span> <span class="toc-text">曼彻斯特编码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B7%AE%E5%88%86%E6%9B%BC%E5%BD%BB%E6%96%AF%E7%89%B9%E7%BC%96%E7%A0%81"><span class="toc-number">2.4.2.4.</span> <span class="toc-text">差分曼彻斯特编码</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E8%B0%83%E5%88%B6%E6%96%B9%E6%B3%95"><span class="toc-number">2.4.3.</span> <span class="toc-text">常用调制方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%B0%83%E5%88%B6%E6%96%B9%E6%B3%95"><span class="toc-number">2.4.3.1.</span> <span class="toc-text">基本调制方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%B7%E5%90%88%E8%B0%83%E5%88%B6"><span class="toc-number">2.4.3.2.</span> <span class="toc-text">混合调制</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%A1%E9%81%93%E7%9A%84%E6%9E%81%E9%99%90%E5%AE%B9%E9%87%8F"><span class="toc-number">2.5.</span> <span class="toc-text">信道的极限容量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%A1%E5%8F%B7%E5%A4%B1%E7%9C%9F"><span class="toc-number">2.5.1.</span> <span class="toc-text">信号失真</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A5%88%E6%B0%8F%E5%87%86%E5%88%99"><span class="toc-number">2.5.2.</span> <span class="toc-text">奈氏准则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A6%99%E5%86%9C%E5%85%AC%E5%BC%8F"><span class="toc-number">2.5.3.</span> <span class="toc-text">香农公式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%A1%E9%81%93%E5%A4%8D%E7%94%A8%E6%8A%80%E6%9C%AF"><span class="toc-number">2.6.</span> <span class="toc-text">信道复用技术</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%91%E5%88%86%E5%A4%8D%E7%94%A8FDM"><span class="toc-number">2.6.1.</span> <span class="toc-text">频分复用FDM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E5%88%86%E5%A4%8D%E7%94%A8TDM"><span class="toc-number">2.6.2.</span> <span class="toc-text">时分复用TDM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%9F%E8%AE%A1%E6%97%B6%E5%88%86%E5%A4%8D%E7%94%A8STDM"><span class="toc-number">2.6.3.</span> <span class="toc-text">统计时分复用STDM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A2%E5%88%86%E5%A4%8D%E7%94%A8WDM"><span class="toc-number">2.6.4.</span> <span class="toc-text">波分复用WDM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A0%81%E5%88%86%E5%A4%8D%E7%94%A8CDM"><span class="toc-number">2.6.5.</span> <span class="toc-text">码分复用CDM</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E5%AD%97%E4%BC%A0%E8%BE%93%E7%B3%BB%E7%BB%9F%E4%B8%8E%E5%AE%BD%E5%B8%A6%E6%8E%A5%E5%85%A5%E6%8A%80%E6%9C%AF"><span class="toc-number">2.7.</span> <span class="toc-text">数字传输系统与宽带接入技术</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%A0%E9%A2%98-1"><span class="toc-number">2.8.</span> <span class="toc-text">习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82"><span class="toc-number">3.</span> <span class="toc-text">数据链路层</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-1"><span class="toc-number">3.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E6%88%90%E5%B8%A7"><span class="toc-number">3.2.</span> <span class="toc-text">封装成帧</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B7%AE%E9%94%99%E6%A3%80%E6%B5%8B"><span class="toc-number">3.3.</span> <span class="toc-text">差错检测</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93"><span class="toc-number">3.4.</span> <span class="toc-text">可靠传输</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-2"><span class="toc-number">3.4.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%81%9C%E6%AD%A2-%E7%AD%89%E5%BE%85%E5%8D%8F%E8%AE%AESW"><span class="toc-number">3.4.2.</span> <span class="toc-text">停止-等待协议SW</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9E%E9%80%80N%E5%B8%A7%E5%8D%8F%E8%AE%AEGBN"><span class="toc-number">3.4.3.</span> <span class="toc-text">回退N帧协议GBN</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E9%87%8D%E4%BC%A0%E5%8D%8F%E8%AE%AESR"><span class="toc-number">3.4.4.</span> <span class="toc-text">选择重传协议SR</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%82%B9%E5%AF%B9%E7%82%B9%E5%8D%8F%E8%AE%AEPPP"><span class="toc-number">3.5.</span> <span class="toc-text">点对点协议PPP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AA%92%E4%BD%93%E6%8E%A5%E5%85%A5%E6%8E%A7%E5%88%B6MAC"><span class="toc-number">3.6.</span> <span class="toc-text">媒体接入控制MAC</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-3"><span class="toc-number">3.6.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E5%88%92%E5%88%86%E4%BF%A1%E9%81%93"><span class="toc-number">3.6.2.</span> <span class="toc-text">静态划分信道</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E6%8E%A5%E5%85%A5%E6%8E%A7%E5%88%B6"><span class="toc-number">3.6.3.</span> <span class="toc-text">动态接入控制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#CSMA-CD%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.6.3.1.</span> <span class="toc-text">CSMA&#x2F;CD协议</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CSMA-CA%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.6.3.2.</span> <span class="toc-text">CSMA&#x2F;CA协议</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MAC%E5%9C%B0%E5%9D%80%E3%80%81IP%E5%9C%B0%E5%9D%80%E5%92%8CARP%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.7.</span> <span class="toc-text">MAC地址、IP地址和ARP协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#MAC%E5%9C%B0%E5%9D%80"><span class="toc-number">3.7.1.</span> <span class="toc-text">MAC地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IP%E5%9C%B0%E5%9D%80"><span class="toc-number">3.7.2.</span> <span class="toc-text">IP地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ARP%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.7.3.</span> <span class="toc-text">ARP协议</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%86%E7%BA%BF%E5%99%A8%E4%B8%8E%E4%BA%A4%E6%8D%A2%E6%9C%BA"><span class="toc-number">3.8.</span> <span class="toc-text">集线器与交换机</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E5%B1%80%E5%9F%9F%E7%BD%91VLAN"><span class="toc-number">3.9.</span> <span class="toc-text">虚拟局域网VLAN</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%B1%82"><span class="toc-number">4.</span> <span class="toc-text">网络层</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-4"><span class="toc-number">4.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%B1%82%E6%8F%90%E4%BE%9B%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%9C%8D%E5%8A%A1"><span class="toc-number">4.2.</span> <span class="toc-text">网络层提供的两种服务</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E8%BF%9E%E6%8E%A5%E7%9A%84%E8%99%9A%E7%94%B5%E8%B7%AF%E6%9C%8D%E5%8A%A1"><span class="toc-number">4.2.1.</span> <span class="toc-text">面向连接的虚电路服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A0%E8%BF%9E%E6%8E%A5%E7%9A%84%E6%95%B0%E6%8D%AE%E6%8A%A5%E6%9C%8D%E5%8A%A1"><span class="toc-number">4.2.2.</span> <span class="toc-text">无连接的数据报服务</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IPv4%E5%9C%B0%E5%9D%80"><span class="toc-number">4.3.</span> <span class="toc-text">IPv4地址</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-2"><span class="toc-number">4.3.1.</span> <span class="toc-text">基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%B1%BB%E7%BC%96%E5%9D%80%E7%9A%84IPv4%E5%9C%B0%E5%9D%80"><span class="toc-number">4.3.2.</span> <span class="toc-text">分类编址的IPv4地址</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#A%E7%B1%BB%E5%9C%B0%E5%9D%80"><span class="toc-number">4.3.2.1.</span> <span class="toc-text">A类地址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#B%E7%B1%BB%E5%9C%B0%E5%9D%80"><span class="toc-number">4.3.2.2.</span> <span class="toc-text">B类地址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#C%E7%B1%BB%E5%9C%B0%E5%9D%80"><span class="toc-number">4.3.2.3.</span> <span class="toc-text">C类地址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93"><span class="toc-number">4.3.2.4.</span> <span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%92%E5%88%86%E5%AD%90%E7%BD%91%E7%9A%84IPv4%E5%9C%B0%E5%9D%80"><span class="toc-number">4.3.3.</span> <span class="toc-text">划分子网的IPv4地址</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81"><span class="toc-number">4.3.3.1.</span> <span class="toc-text">子网掩码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BE%E4%B8%AA%E6%A0%97%E5%AD%90"><span class="toc-number">4.3.3.2.</span> <span class="toc-text">举个栗子</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81"><span class="toc-number">4.3.3.3.</span> <span class="toc-text">默认子网掩码</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A0%E5%88%86%E7%B1%BB%E7%BC%96%E5%9D%80%E7%9A%84IPv4%E5%9C%B0%E5%9D%80"><span class="toc-number">4.3.4.</span> <span class="toc-text">无分类编址的IPv4地址</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#CIDR"><span class="toc-number">4.3.4.1.</span> <span class="toc-text">CIDR</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E8%81%9A%E5%90%88"><span class="toc-number">4.3.4.2.</span> <span class="toc-text">路由聚合</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IPv4%E5%9C%B0%E5%9D%80%E7%9A%84%E4%BD%BF%E7%94%A8%E6%B5%81%E7%A8%8B"><span class="toc-number">4.3.5.</span> <span class="toc-text">IPv4地址的使用流程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E9%95%BF%E7%9A%84%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81FLSM"><span class="toc-number">4.3.5.1.</span> <span class="toc-text">定长的子网掩码FLSM</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%98%E9%95%BF%E7%9A%84%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81VLSM"><span class="toc-number">4.3.5.2.</span> <span class="toc-text">变长的子网掩码VLSM</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IP%E6%95%B0%E6%8D%AE%E6%8A%A5%E7%9A%84%E5%8F%91%E9%80%81%E4%B8%8E%E8%BD%AC%E5%8F%91"><span class="toc-number">4.4.</span> <span class="toc-text">IP数据报的发送与转发</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E8%B7%AF%E7%94%B1%E9%85%8D%E7%BD%AE%E4%B8%8E%E8%B7%AF%E7%94%B1%E7%8E%AF%E8%B7%AF"><span class="toc-number">4.5.</span> <span class="toc-text">静态路由配置与路由环路</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E8%B7%AF%E7%94%B1%E9%85%8D%E7%BD%AE"><span class="toc-number">4.5.1.</span> <span class="toc-text">静态路由配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E8%B7%AF%E7%94%B1"><span class="toc-number">4.5.2.</span> <span class="toc-text">默认路由</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E5%AE%9A%E4%B8%BB%E6%9C%BA%E8%B7%AF%E7%94%B1"><span class="toc-number">4.5.3.</span> <span class="toc-text">特定主机路由</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E7%8E%AF%E8%B7%AF"><span class="toc-number">4.5.4.</span> <span class="toc-text">路由环路</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E9%94%99%E8%AF%AF%E5%AF%BC%E8%87%B4%E8%B7%AF%E7%94%B1%E7%8E%AF%E8%B7%AF"><span class="toc-number">4.5.4.1.</span> <span class="toc-text">配置错误导致路由环路</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%81%9A%E5%90%88%E4%B8%8D%E5%AD%98%E5%9C%A8%E7%9A%84%E7%BD%91%E7%BB%9C%E5%AF%BC%E8%87%B4%E8%B7%AF%E7%94%B1%E7%8E%AF%E8%B7%AF"><span class="toc-number">4.5.4.2.</span> <span class="toc-text">聚合不存在的网络导致路由环路</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E6%95%85%E9%9A%9C%E5%AF%BC%E8%87%B4%E8%B7%AF%E7%94%B1%E7%8E%AF%E8%B7%AF"><span class="toc-number">4.5.4.3.</span> <span class="toc-text">网络故障导致路由环路</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E5%8D%8F%E8%AE%AE"><span class="toc-number">4.6.</span> <span class="toc-text">路由选择协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-5"><span class="toc-number">4.6.1.</span> <span class="toc-text">概述</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IPv4%E6%95%B0%E6%8D%AE%E6%8A%A5%E7%9A%84%E9%A6%96%E9%83%A8"><span class="toc-number">4.7.</span> <span class="toc-text">IPv4数据报的首部</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E9%99%85%E6%8E%A7%E5%88%B6%E6%8A%A5%E6%96%87%E5%8D%8F%E8%AE%AEICMP"><span class="toc-number">4.8.</span> <span class="toc-text">网际控制报文协议ICMP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E4%B8%93%E7%94%A8%E7%BD%91VPN%E4%B8%8E%E7%BD%91%E7%BB%9C%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2NAT"><span class="toc-number">4.9.</span> <span class="toc-text">虚拟专用网VPN与网络地址转换NAT</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BD%9C%E4%B8%9A"><span class="toc-number">5.</span> <span class="toc-text">作业</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E4%B8%9A1"><span class="toc-number">5.1.</span> <span class="toc-text">作业1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E4%B8%9A2"><span class="toc-number">5.2.</span> <span class="toc-text">作业2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E4%B8%9A3"><span class="toc-number">5.3.</span> <span class="toc-text">作业3</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E4%B8%9A4"><span class="toc-number">5.4.</span> <span class="toc-text">作业4</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/11/26/%E7%B3%BB%E7%BB%9F%E8%BD%AF%E4%BB%B6%E5%AE%89%E5%85%A8/" title="系统软件安全"><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/【哲风壁纸】全职高手-苏沐橙.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="系统软件安全"/></a><div class="content"><a class="title" href="/2024/11/26/%E7%B3%BB%E7%BB%9F%E8%BD%AF%E4%BB%B6%E5%AE%89%E5%85%A8/" title="系统软件安全">系统软件安全</a><time datetime="2024-11-26T08:57:28.000Z" title="发表于 2024-11-26 16:57:28">2024-11-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/11/04/%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E5%A4%84%E7%90%86NLP/" title="自然语言处理NLP"><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/【哲风壁纸】孤独摇滚-波奇酱.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="自然语言处理NLP"/></a><div class="content"><a class="title" href="/2024/11/04/%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E5%A4%84%E7%90%86NLP/" title="自然语言处理NLP">自然语言处理NLP</a><time datetime="2024-11-04T06:27:02.000Z" title="发表于 2024-11-04 14:27:02">2024-11-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/10/13/%E5%AF%86%E7%A0%81%E5%8F%A3%E4%BB%A4%E5%A4%8D%E7%94%A8%E5%88%86%E6%9E%90/" title="密码口令复用分析"><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/cea377f138aaefc2968f5a08168531d.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="密码口令复用分析"/></a><div class="content"><a class="title" href="/2024/10/13/%E5%AF%86%E7%A0%81%E5%8F%A3%E4%BB%A4%E5%A4%8D%E7%94%A8%E5%88%86%E6%9E%90/" title="密码口令复用分析">密码口令复用分析</a><time datetime="2024-10-13T08:19:25.000Z" title="发表于 2024-10-13 16:19:25">2024-10-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/10/12/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86/" title="数据库原理"><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/【哲风壁纸】多啦a梦-日本动漫.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="数据库原理"/></a><div class="content"><a class="title" href="/2024/10/12/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86/" title="数据库原理">数据库原理</a><time datetime="2024-10-12T10:16:40.000Z" title="发表于 2024-10-12 18:16:40">2024-10-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/10/12/%E5%AF%86%E7%A0%81%E5%AD%A6/" title="密码学"><img src="https://mypicturebed.obs.cn-east-3.myhuaweicloud.com/【哲风壁纸】二次元-动漫.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="密码学"/></a><div class="content"><a class="title" href="/2024/10/12/%E5%AF%86%E7%A0%81%E5%AD%A6/" title="密码学">密码学</a><time datetime="2024-10-12T10:13:46.000Z" title="发表于 2024-10-12 18:13:46">2024-10-12</time></div></div></div></div></div></div></main><footer id="footer" style="background: transparent;"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2024 By Linghao Zhang</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>(() => {
  const loadMathjax = () => {
    if (!window.MathJax) {
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          tags: 'none',
        },
        chtml: {
          scale: 1.1
        },
        options: {
          enableMenu: true,
          renderActions: {
            findScript: [10, doc => {
              for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
                const display = !!node.type.match(/; *mode=display/)
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
                const text = document.createTextNode('')
                node.parentNode.replaceChild(text, node)
                math.start = {node: text, delim: '', n: 0}
                math.end = {node: text, delim: '', n: 0}
                doc.math.push(math)
              }
            }, '']
          }
        }
      }
      
      const script = document.createElement('script')
      script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
      script.id = 'MathJax-script'
      script.async = true
      document.head.appendChild(script)
    } else {
      MathJax.startup.document.state(0)
      MathJax.texReset()
      MathJax.typesetPromise()
    }
  }

  btf.addGlobalFn('encrypt', loadMathjax, 'mathjax')
  window.pjax ? loadMathjax() : window.addEventListener('load', loadMathjax)
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>